[{"title":"js中()是什么？作用是什么？","tags":["javascript"],"content":"<p>在js中常使用立即执行表达式，如：</p>\n<pre><code>(function(name){console.log(name)})(\"123\")\n// 输出\"123\"</code></pre>\n<p>虽然这种用法见得很多，但有点迷糊<code>(function(){})</code>中的<code>()</code>是什么？是一个操作符吗？它的作用又是什么？</p>","answer":["<pre><code>(function(name){console.log(name)})(\"123\")\n</code></pre>\n<p>加 <code>()</code> 是为了消除歧义，因为如果不加<code>()</code>,会报错;</p>\n<pre><code>function(name){console.log(name)}(\"123\")//Uncaught SyntaxError: Unexpected token (\n</code></pre>\n<p>为什么报错呢？</p>\n<blockquote>因为JavaScript 将function 关键字当作一个函数声明语句的开始，而函数声明语句 function 关键字后面应该是 函数名，这里后面跟圆括号，当然会报错</blockquote>\n<p>实际上，你在 <code>function</code> 后面加个名字，不加 <code>()</code> ，虽然不报错，也是达不到你想要的结果的，考虑下面代码：</p>\n<pre><code>function f(name){console.log('My'+name)}(\"123\")//123\n</code></pre>\n<p>这里没有返回 <code>My123</code> ,因为这只是一个函数声明语句后面，跟了一条毫无关系的表达式而已：<code>(\"123\")</code>，如果要调用函数，除了通常的 <code>f(\"123\")</code>，还可以在函数表达式后面加上<code>(\"123\")</code>，这种情况下，你要告诉解析器,下面的代码是函数表达式，而不是语句：</p>\n<pre><code>function (name){console.log('My'+name)}\nfunction f(name){console.log('My'+name)}\n</code></pre>\n<p>那么这个时候，<strong><code>()</code> 就发生作用了，它可以消除歧义，让浏览器把<code>()</code> 里的内容当做表达式</strong>去解析：</p>\n<pre><code>(function (name){console.log('My'+name)})(\"123\")//My123\n(function f(name){console.log('My'+name)})(\"123\")//My123\n</code></pre>\n<p>所以上面代码可以正常运行，并且取得预期效果，除此以外 <code>()</code> 提升优先级、执行函数以及其他效果我就不说了；</p>","<p>这个立即执行也叫做“函数自执行”<br>在百度搜索“函数自执行”找到一篇文章，你看完后应该明白了<br><a href=\"http://blog.csdn.net/xixiruyiruyi/article/details/54894404\">杂七杂八JS :深入理解 函数、匿名函数、自执行函数 - CSDN博客</a><br>还有这一篇也能让你明白<br><a href=\"http://www.jb51.net/article/79238.htm\">浅析Javascript匿名函数与自执行函数</a></p>","<pre><code>(function fun(a,b,c)\n{\n    //…\n})(1,2,3)</code></pre>\n<p>这里的括号(1,2,3)中的参数对应的是前面函数的参数，当第一个括号的代码符合表达式规则时，前面的代码会被作为函数表达式来执行，所以最好在第一个函数表达式前面加上“;”分隔开，否则会报前一个表达式的值不是函数的错误。</p>\n<p>如：alert(1)(function(){})(),此时alert(1)先执行，由于符合立即执行的函数表达式规则，所以alert(1)的返回值会被作为函数，同时将后一个括号中的值作为参数传入，但alert(1)返回的是undefined，所以会报错。解决办法就是在alert(1)后面加上“;”或者“,”，将其拆分为两个表达式。</p>\n<hr>\n<p>立即执行还可以用</p>\n<pre><code>(function fun(a,b,c)\n{\n    //…\n}(1,2,3))\n\n!function fun(a,b,c)\n{\n    //…\n}(1,2,3)\n\nvoid function fun(a,b,c)\n{\n    //…\n}(1,2,3)</code></pre>","<p>(function(name){console.log(name)}) 这个()是一个运算符，提高优先级的，先执行里面的代码块，形成一个函数，在执行这个函数</p>\n<p>除了()，你还可以使用</p>\n<p>+function(name){console.log(name)}(\"123\")</p>\n<p>-function(name){console.log(name)}(\"123\")</p>\n<p>!function(name){console.log(name)}(\"123\")</p>\n<p>0 || function(name){console.log(name)}(\"123\")</p>\n<p>等等等....</p>","<p><strong>调用运算符</strong>：跟在任何产生一个函数值的表达式之后的一对圆括号（）<br>表达式内可包含零个或多个用逗号隔开的表达式。 每个表达式产生一个参数值</p>\n<blockquote>在 《JavaScript 语言精粹》里面，表示每个函数在创建时会附加两个隐藏属性，函数的上下文和实现函数行为的代码（JavaScript创建一个函数对象时，会给给对象设置一个“调用”属性）。当JavaScript调用一个函数时，可以理解为调用此函数的“调用”属性。 可以跟上面的 （） 联系在一起。</blockquote>","<p>你这段函数叫做自执行函数，程序运行到这个函数时会直接执行一次这个函数，后面的括号是传入的参数。</p>","<p>谢谢各位的认真解答，综合各位的答案，<code>(function(){})</code>中括号就是括号，它的作用是<strong>让浏览器把<code>()</code>里的内容当做表达式去解析</strong>，如果不用括号包起来的话，浏览器就会把<code>function(){}</code>当做是函数声明，但是函数声明没有名字，于是就会报错。</p>\n<p><a href=\"/u/hfhan\">@hfhan</a> 提到下面这几种方法也可达到立即执行函数的效果：</p>\n<pre><code>+function(name){console.log(name)}(\"123\")\n\n-function(name){console.log(name)}(\"123\")\n\n!function(name){console.log(name)}(\"123\")\n\n0 || function(name){console.log(name)}(\"123\")</code></pre>\n<p>其中的<code>+</code>,<code>-</code>,<code>!</code>,<code>0||</code>等的左右应该也是让浏览器把<code>function(){}</code>当成表达式，而不是函数声明去处理。</p>\n<p>再次感谢！</p>"]},{"title":"javascript 数组和对象遍历的问题","tags":["javascript"],"content":"<pre><code>var arr =[{id:1,name:'name1'},{id:4,name:'name2'},{id:5,name:'name3'}];</code></pre>\n<p>想把  arr这个数组最后变成下面对象的格式</p>\n<pre><code>obj ={1:'name1',4:'name2',5:'name3'};</code></pre>\n<p>怎么实现？</p>","answer":["<pre><code class=\"javascript\">let obj = {};\narr.forEach(a => obj[a['id']] = a['name']);\n\nconsole.log(obj);</code></pre>","<pre><code>var arr =[{id:1,name:'name1'},{id:4,name:'name2'},{id:5,name:'name3'}];\n    var obj=arr.reduce(function(a,b){\n        return a[b.id]=b.name,a;\n    },{});\n    console.log(obj);</code></pre>","<pre><code>var arr =[{id:1,name:'name1'},{id:4,name:'name2'},{id:5,name:'name3'}]\n\nvar obj = arr.reduce((ret, item) => (ret[item.id] = item.name, ret), {})</code></pre>","<pre><code>var arr =[{id:1,name:'name1'},{id:4,name:'name2'},{id:5,name:'name3'}]\nvar obj = {};\nfor(var i in arr){\n    var d = arr[i].name;\n    var e = arr[i].id;\n    obj[e] = d;    \n}\n</code></pre>\n<p>low不</p>"]},{"title":"如何理解（解释翻译）这段代码","tags":["javascript"],"content":"<pre><code>function Obj(){}\n\nvar obj = new Obj();\n\nalert(obj);//[object,Object]\n\nconsole.log(obj);如下：\n</code></pre>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4rd6?w=701&h=268\"></span></p>\n<p>是不是与这个构造函数、原型链方面有关系 ？new出来一个新的obj之后，我可以在 <code>obj.方法名</code> 来给这个obj增加方法或属性吗 ？在什么场合会遇到这种写法 ？</p>","answer":["<p>如果有多个类似的方法/功能且每个方法/功能又有自己的状态 一般就会通过构造方法的形式new出来一个对象<br>可以</p>","<p>Obj 是 obj 的构造函数</p>\n<p>obj是一个对象，可以通过obj.xx 或 obj[xx]的形式来添加私有属性</p>\n<p>可以通过obj.prototype.xx 或 obj.prototype[xx]的形式来添加共有属性</p>\n<p>可以通过obj.__proto__.xx 或 obj.__proto__[xx]的形式来添加构造函数的属性</p>"]},{"title":"js中变量可以作为对象的属性名吗","tags":["vue.js","javascript"],"content":"<p>如图，editColumn为一个变量，如何将它放入para对象里，作为对象的属性名？</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4qlS?w=555&h=480\"></span></p>","answer":["<p>方法一:</p>\n<pre><code>let para = {id: editRid}\npara[editColumn] = editValue</code></pre>\n<p>方法二（es6）：</p>\n<pre><code>let para = {[editColumn]: editValue, id: editRid}</code></pre>","<p>{[xxx]:'xxx'}</p>","<pre><code>var str = '我是字符串'\nvar obj = { [str] : 1 }\nconsole.log(obj)</code></pre>\n<p>复制到chrome控制台试试</p>","<pre><code class=\"javascript\">para[editColumn] = 'xxx';</code></pre>","<p>你是想要这样把：</p>\n<pre><code>let editColumn = \"字符串\";\n结果为\n{字符串: XXX, id: XXX}</code></pre>\n<p>可以</p>\n<pre><code>let para[editColumn] = editValue;\n或者\nlet para = {[editColumn]: editValue, id: editRid}</code></pre>","<p>字符串拼接试试</p>","<pre><code>let para = {},  \npara[editColumn] = deitValue,</code></pre>"]},{"title":"laravel 修改用户表名后出现的问题","tags":["php","laravel"],"content":"<p>在 AppUser 模块里重写了</p>\n<pre><code class=\"php\">    protected $table      = 'sys_users'; // 定义用户表表名\n    protected $primaryKey = 'user_id'; // 定义用户表主键</code></pre>\n<p>登陆没问题 ，但是注册还会报这个错误<br>SQLSTATE[42S02]: Base table or view not found: 1146 Table 'database.users' doesn't exist</p>","answer":["<p>上注册的代码，应该是表单验证的错误，你看一下是不是有：</p>\n<pre><code class=\"php\">$this->validate($request, 'xxx' => 'unique:users');</code></pre>","<p>错误提示了你 users这个表不存在，我想是你的sql语句的问题，请检查你的sql语句。</p>","<p>报错指的是数据库<code>database</code>中不存在<code>users</code>表，是不是没有配置laravel的表前缀？</p>","<p>估计你是用了<code>User Model</code> 然后在里面你没有指定你的table的名字。</p>\n<pre><code>class User extends Model {\n\n    protected $table = 'my_users'; // 要指定你自己的table 不然laravel会自动分配table名字的\n\n}\n</code></pre>","<p>你的这个  protected $table      = 'sys_users'; // 定义用户表表名    是你的表名是吧？那你的sys应该是你的表前缀吧？这里定义写的表名不需要写表前缀，直接users</p>"]},{"title":"在 thinkPHP 框架中，使用hasWhere() 的问题","tags":["php-thinkphp5.0","php"],"content":"<pre><code>$gc = new GoodsClassification();\n\n//此时是 GoodsClassification 对象的实例化结果\nvar_dump($gc);\n\n//调用hasWhere时，必须用$gc变量接收返回值，否则条件无效\n$gc = $gc->hasWhere('goods',['is_delete'=>1]);\n\n//此时是 db/Query 对象的实例化结果，再用 $gc->hasWhere() 就会提示找不到该方法了\nvar_dump($gc);\n\n//调用where条件，无需接收其返回值，条件也有效\n$gc->where('a',1);\n\n//此行代码报错，提示找不到 hasWhere方法，因为第一次调用hasWhere后，$gc对象产生了变化\n$gc = $gc->hasWhere('goods',['is_delete'=>1]);\n\n$rows = $gc->select();\n</code></pre>\n<p>代码如上，在一次数据查询中，不能重复多次使用 hasWhere 方法，后面的会报找不到方法的错误，而where()查询则没有这个问题。</p>\n<p>这是设计初衷，还是我使用错误？</p>","answer":["<p>关键是你这一步：</p>\n<blockquote>//调用hasWhere时，必须用$gc变量接收返回值，否则条件无效 $gc =<br>$gc->hasWhere('goods',['is_delete'=>1]);</blockquote>\n<p>为什么要这样做？</p>"]},{"title":"代码如下，springmvc中，哇木哦newsservice有好多个实现类呢？会装载那一个？","tags":["java"],"content":"<p>@Autowired<br>private NewsService newsService;</p>","answer":["<p>如果有好多个实现类，会报错。</p>"]},{"title":"java中，这个方法为什么没有返回值","tags":["java"],"content":"<pre><code>@Service\n@Transactional\npublic class NewsServiceImpl implements NewsService{\n    \n    @Resource\n    public NewsMapper newsMapper;\n    @Override\n    public void add_news(News news) {\n        newsMapper.add_news(news);\n    }\n\n}</code></pre>","answer":["<p>从方法签名上来说，<code>add_news</code> 是说把参数 <code>news</code> 添加到其属性 <code>newsMapper</code> 中。</p>\n<p>这是一个 <strong>更新状态</strong> 的操作，可以有返回值比如说一个 <code>boolean</code> 来说明返回成功与否；<br>也可以返回一个 <code>int / long</code> 来告知 <code>news</code> 保存的位置 / 持久化 <code>id</code>。</p>\n<p>但也只能说有上述两种返回值会更好，不能说它不声明返回值就是不对的。</p>\n<p>最后，这个方法是接口 <code>NewsService</code> 的实现，所以你应该问那个接口的设计者为什么不给这个方法声明返回值。</p>"]},{"title":"vue proxyTable无法解决跨域","tags":["vue-resource"],"content":"<p>proxyTable: {</p>\n<pre><code>  '/api': {\n    target: 'http://dsn.apizza.cc',\n    changeOrigin: true,\n    pathRewrite: {\n      '^/api': ''\n    }\n  }\n},\n\n\n============\nlet URL = \"/mock/33a3028a1c490faf003f2b6196f2cc92/dksq\"\n  this.$http.get(URL).then(\n        function (res) {\n            console.log(res.body);\n        },function (res) {\n            console.log('error')\n        }\n    );\n</code></pre>\n<p>========================</p>\n<pre><code>    vue-resource.es2015.js?3916:1085 GET http://localhost:8080/mock/33a3028a1c490faf003f2b6196f2cc92/dksq 404 (Not Found)</code></pre>","answer":["<pre><code>let URL = \"/api/mock/33a3028a1c490faf003f2b6196f2cc92/dksq\"\n  this.$http.get(URL).then(\n        function (res) {\n            console.log(res.body);\n        },function (res) {\n            console.log('error')\n        }\n    );</code></pre>"]},{"title":"一个诡异的h5移动端问题，我甚至难以用语言描述，求解决","tags":["html5","chrome"],"content":"<p>起因：我被领导要求开发一个h5，功能是关于食堂饭菜投票的，在我刚开始设计页面，并初步绘制完成时，发生了诡异的事件，用的框架是angularjs，并辅以jquery和mui。<br>只要我每次启动nginx，并在浏览器端打开链接，首次渲染完成后，不管我如何刷新页面（包括清除浏览器缓存），页面下半部分就是无法点击，我用谷歌浏览器开发者工具左上角箭头选取目标时，看到了诡异的一幕，我竟然无法选取页面的下半部分，鼠标放上去，他会显示现在放在上半区域。经测试，除了页面顶部，其他部分都是这样的情况，也就是说，鼠标点击，他实际确是在点击距离实际部分靠上的区域，出现的问题。<br>最后，只要我在浏览器端换个模拟器，比如从iphone5换成iphone6，一切恢复正常，再怎么刷新都是正常的，然后退出浏览器，重新进入，又会出现，百分之百。<br>求大神解决<br><span class=\"img-wrap\"><img data-src=\"/img/bV4q53?w=1440&h=1080\"></span></p>\n<p>请注意浏览器开发者工具左上角，以及当前模拟器是iphone6，不管我如何刷新，结果都是这样，十分诡异。</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4q6T?w=1440&h=1080\"></span></p>\n<p>请注意，这次我更换模拟器为iphone5，其他什么都不变，就正常了，不管怎么刷新都是正常的<br>为了拍摄鼠标指针，用手机拍的，不怎么清晰，大神莫怪</p>","answer":["<p>我觉得首先在模拟器里有这个问题，你真机上不一定有，可以先在真机上看看。另外你可以找其他同事的电脑看看，排除一下你的chrome是不是有啥bug，再看是不是页面有问题。如果其他人的电脑也有这个问题，那么你可以尝试给所有元素加上边框，看看在iPhone 6的时候是不是被什么元素挡住了</p>","<p>我之前也遇到过同样的问题：是做一个微信上的活动页面，用的仅仅是 html+jquery，模拟器和真机出现的问题是我实际点击的地方在我点击元素的上方，所以导致元素上的点击事件不会执行，</p>\n<p>检查后，代码没发现什么问题，后来重启了下服务，莫名其妙地好了。。。不清楚到底什么问题</p>","<p>真机没问题的话 就更新下chrome版本  如果版本已经是最新的了 就重新安装一下</p>"]},{"title":"thinkphp5验证器","tags":["javascript","php"],"content":"<p>使用tp5的验证器Validate进行数据验证，遇到中文长度时候有麻烦了，因为1个中文的长度是3的<br><span class=\"img-wrap\"><img data-src=\"/img/bV4pQD?w=1008&h=320\"></span></p>\n<p>要验证长度最大为6,但是输入3个中文就不行了。求解</p>","answer":["<p>一个中文长度是2吧</p>","<p>utf-8 需要 3 Bytes，gbk 需要 2 Bytes,而且中文一般都是用mb_strlen()</p>","<p><a href=\"https://github.com/top-think/framework/blob/5.1/library/think/Validate.php#L1207\">https://github.com/top-think/...</a></p>\n<p>TP5 的max验证规则git版本看的是有用mb_strlen来进行字符串长度验证。不知道你用的什么版本</p>","<p>先使用  mb_strlen()这个函数获取到输入框字符串的长度，如果长度大于6就报错，否则就再用正则来验证合法性，比如不能输入特殊字符之类的。</p>"]},{"title":"form表单怎么发送 post请求数据？","tags":["请求","form","javascript"],"content":"<p>我只是想用表单发送一个{\"log_type\":\"opt_log\"} 这个数据那我该怎么写？我是这么写的一直请求不成功，那参数要怎么写？</p>\n<pre><code>var form=$('<form>');//定义一个form表单\nform.attr('style','display:none');\nform.attr('target','');\nform.attr('method','post');\nform.attr('action',SetUrlAuthID(getNgtpUrlPrefix()+'/log/export/'));\nvar inputDomain=$('<input>');\ninputDomain.attr('type','hidden');\ninputDomain.attr('name','log_type');\ninputDomain.attr('value','opt_log');\n\n$('body').append(form);//将表单放置在web中\nform.append(inputDomain);\nform.submit();//表单提交\nform.remove();</code></pre>","answer":["<p>删除掉</p>\n<pre><code>form.submit()\nform.remove()</code></pre>\n<p>然后在后面增加：</p>\n<pre><code>$.ajax({\n    url: SetUrlAuthID(getNgtpUrlPrefix()+'/log/export/'), \n    type : \"POST\", \n    dataType : 'json',\n    data : form.serialize(),\n    success : function(resp) {\n        console.log(resp);\n    },\n    error: function(xhr, resp, text) {\n        console.log(xhr, resp, text);\n    }\n});</code></pre>","<p>POST请求，ajax了解一下</p>","<p>题主只能用表单是吗？<br>那为什么不直接创建一个隐藏的input<br>例如 <code><input type=\"hidden\" name=\"log_type\" value=\"opt_log\"></code><br>至于 value 是什么发送前重新赋值就好了。</p>","<p>你少了一个</form>吧</p>"]},{"title":"node.js使用swig模板获取变量的方法？","tags":["node.js","swig","express"],"content":"<p>后端代码中传了数据到前端：</p>\n<pre><code> res.render('admin/user',{\n        title:'用户';,\n    });</code></pre>\n<p>然后在<code>admin/user</code>的html中使用<code>{{title}}</code>可以获取到title的值，但是我现在想在前台的js代码<code><script></script></code>中直接使用<code>title</code>变量，不知道该如何获取呢,试了<code>'{{title}}'</code>和<code>{{title}}</code>都获取不到。</p>","answer":["<p>很简单，在前台代码中先搞个script标签，然后在js代码区域里渲染一个模板变量即可。<br>比如这样：</p>\n<pre><code><html>\n<head></head>\n<body>\n<p>xxxxxxxxxx</p>\n<script>\n    var titleFromServerRender = '{{ title }}';\n</script>\n</body>\n</html></code></pre>\n<p>但这里要确保，你在node server端渲染时传给swig的title参数一定是字符串。同时 考虑到xss攻击的风险，确保此变量不会被注入攻击。</p>"]},{"title":"android studio自带的抽屉侧滑菜单怎么设置点击事件？还头一回遇到，汗！","tags":["android"],"content":"<p>item怎么设置点击事件？</p>\n<p><?xml version=\"1.0\" encoding=\"utf-8\"?><br><menu xmlns:android=\"http://schemas.android.com/apk/res/android\"</p>\n<pre><code>xmlns:tools=\"http://schemas.android.com/tools\"\ntools:showIn=\"navigation_view\">\n\n<group android:checkableBehavior=\"single\">\n    <item\n        android:id=\"@+id/it_timing\"\n        android:icon=\"@mipmap/dingshi\"\n        android:title=\"定时停止播放\" />\n    <item\n        android:id=\"@+id/nav_slideshow\"\n        android:icon=\"@mipmap/shezhi\"\n        android:title=\"设置\" />\n    <item\n        android:id=\"@+id/nav_manage\"\n        android:icon=\"@mipmap/guanyu\"\n        android:title=\"关于\" />\n</group>\n</code></pre>\n<p></menu></p>","answer":["<p>在你的activity，你需要inflate 你的menu folder</p>\n<pre><code>  @Override\n        public boolean onCreateOptionsMenu(Menu menu) {\n            MenuInflater inflater = getMenuInflater();\n            inflater.inflate(R.menu.mainmenu, menu);\n            return true;\n        }\n</code></pre>\n<p>之後用<code>onNavigationItemSelected()</code>设置点击事件</p>\n<pre><code>@Override\npublic boolean onNavigationItemSelected(MenuItem item) {\n  switch (item.getItemId()) {\n  case R.id.it_timing:\n    Toast.makeText(this, \"timing selected\", Toast.LENGTH_SHORT)\n        .show();\n    break;\n       ......\n  }   \n  return true;\n}</code></pre>","<pre><code>NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\nnavigationView.setNavigationItemSelectedListener(this);\n        \n    @SuppressWarnings(\"StatementWithEmptyBody\")\n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        // Handle navigation view item clicks here.\n        switch (item.getItemId()){\n            case R.id.it_timing:\n                timing();\n                break;\n            case R.id.nav_slideshow:\n\n                break;\n            case R.id.nav_manage:\n\n                break;\n        }\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }</code></pre>"]},{"title":"element-ui中select如何实现全选功能","tags":["javascript","html5","vue.js"],"content":"<p>最近在使用element-ui进行开发，现在在用select组件 其中有一个选项是全司 也就是点击后 所有分公司都能被选中 如果在所有分公司选中的情况下 点击全司的话 取消选中所有分公司 当一个个点击到所有分公司时 全司这个选项也被选中 但是写了一上午了 逻辑好像还是有问题  诸位大神能帮忙一下么？</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4qPC?w=658&h=512\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4qW7?w=1792&h=204\"></span></p>\n<p>基本结构是：<br>branchCode和BranchIptions<br><span class=\"img-wrap\"><img data-src=\"/img/bV4qYT?w=776&h=850\"></span></p>\n<p>选中一个选项就往branchCode里添加一个值~</p>","answer":["<p>冲突了。</p>\n<p>条件 1.  全公司选中，其他的公司也必须选中。<br>条件 2.  其他公司选中，全公司也选中。</p>\n<p>当我一开始选中全公司，那么 我选中的队列里面就有 <code>[全公司，广东，安徽，浙江]</code></p>\n<p>由于我每次只能选择一个，所以我就无法取消任何一个选中。</p>\n<p>比如：</p>\n<ol>\n<li>我点击全公司，条件2生效，全公司不会取消选中。</li>\n<li>我点击其他任意一个公司，条件1生效。也同样不会取消选中。</li>\n</ol>\n<p>这就陷入了死循环。</p>"]},{"title":"laravel 分页问题","tags":["php"],"content":"<p>从接口获取的数据 合并 数据库数据后的数组 如何分页显示</p>","answer":["<p>自行手动构建，</p>\n<p>想要带 <code>bootstrap</code> 的分页器，<code>new Illuminate\\Pagination\\LengthAwarePaginator</code><br>想要简单的分页器，<code>new Illuminate\\Pagination\\Paginator</code></p>\n<p>具体的构建，可以参考源代码中 <code>Orm</code> 调用时的实例化分页器，位置在 <code>vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php</code> 中的 <code>paginate</code> 方法</p>","<pre><code>手动创建分页器\n\n有时候你可能想要通过传递数组数据来手动创建分页实例，\n你可以基于自己的需求通过创建 Illuminate\\Pagination\\Paginator \n或 Illuminate\\Pagination\\LengthAwarePaginator 实例来实现。\n\nPaginator 类不需要知道结果集中数据项的总数；\n不过，正因如此，该类也没有提供获取最后一页索引的方法。\nLengthAwarePaginator 接收参数和 Paginator 几乎一样，只是，它要求传入结果集的总数。\n\n换句话说，Paginator 对应 simplePaginate 方法，\n而LengthAwarePaginator 对应 paginate 方法。\n\n    注：当手动创建分页器实例的时候，应该手动对传递到分页器的结果集进行“切片”，\n    如果你不确定怎么做，查看 PHP 函数 array_slice。</code></pre>\n<p>---上面来自 laravel 学院手册</p>\n<pre><code>use Illuminate\\Pagination\\LengthAwarePaginator;\nuse Illuminate\\Pagination\\Paginator;\nuse Illuminate\\Http\\Request;\n# 仅做演示 #\nfunction userList(Request $request) {\n  $users = [\n    ['username'=>'zhangsan', 'age'=>26],\n    ['username'=>'lisi', 'age'=>23],\n    ['username'=>'wangwu', 'age'=>62],\n    ['username'=>'zhaoliu', 'age'=>46],\n    ['username'=>'wangmazi', 'age'=>25],\n    ['username'=>'lanzi', 'age'=>24],\n    ['username'=>'pangzi', 'age'=>21]\n  ];\n  $perPage = 3;\n  if ($request->has('page')) {\n      $current_page = $request->input('page');\n      $current_page = $current_page <= 0 ? 1 :$current_page;\n  } else {\n      $current_page = 1;\n  }\n  $item = array_slice($users, ($current_page-1)*$perPage, $perPage); //注释1\n  $total = count($users);\n  $paginator =new LengthAwarePaginator($item, $total, $perPage, $currentPage, [\n      'path' => Paginator::resolveCurrentPath(), //注释2\n      'pageName' => 'page',\n  ]);\n  $userlist = $paginator->toArray()['data'];\n  return view('userlist', compact('userlist', 'paginator'));\n}</code></pre>\n<p>---来自百度</p>","<p><a href=\"https://my.oschina.net/gyuan/blog/1069009\">https://my.oschina.net/gyuan/...</a></p>"]},{"title":"laravel控制器中使用eloquent的问题","tags":["php","laravel"],"content":"<p>User.php</p>\n<pre><code><?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass User extends Model\n{\n     protected $table = 'user';\n     protected $primaryKey = 'id';\n     public $timestamps = false;\n     public function comments(){ \n         return $this->hasOne('App\\Models\\Comment', 'uid', 'uid');\n     }\n}\n</code></pre>\n<p>Comment.php</p>\n<pre><code><?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Comment extends Model\n{\n     protected $table = 'comment';\n     protected $primaryKey = 'id';\n     public $timestamps = false;\n     public function comments(){ \n         return $this->hasMany('App\\Models\\User', 'uid', 'uid');\n     }\n}</code></pre>\n<p>我想在Test控制器中使用User模型中comments方法的数据  应该怎么使用呢？</p>\n<pre><code>use App\\Models\\User;\nclass TestController extends Controller{\n     public function test(){\n       \n  }\n｝</code></pre>","answer":["<p>这是典型的一对多模型关联： <a href=\"https://d.laravel-china.org/docs/5.5/eloquent-relationships#one-to-many\">Eloquent 关联：一对多</a></p>\n<p>从你的源码来看，你的映射关系是错的，一个用户肯定会发表多个评论，所以在 User model 中应该是用 hasMany，</p>\n<pre><code>class User extends Model\n{\n     public function comments(){ \n         return $this->hasMany('App\\Models\\Comment', 'uid', 'uid');\n     }\n}</code></pre>\n<p>而对于 Comment 模型，每个评论只属于一个用户</p>\n<pre><code>class Comment extends Model\n{\n     public function user(){ \n         return $this->belongsTo('App\\Models\\User', 'uid', 'uid');\n     }\n}</code></pre>\n<p>拿到用户的所有评论写法如下：</p>\n<pre><code>class TestController extends Controller{\n     public function test(){\n       $user= User::find($id);\n       $comments= $user->comments; //拿到该用户的所有评论\n  }\n｝</code></pre>\n<p>如果你拿到了一条评论数据，要获取到该评论的用户模型，应该是</p>\n<pre><code>class TestController extends Controller{\n     public function test(){\n       $comment= Comment::find($id);\n       $user= $comment->user; //拿到该评论的所属用户\n  }\n｝</code></pre>\n<p>其实在官方文档中已经说的比较清楚了，请认真仔细阅读文档。</p>","<p>1.Laravel中的hasOne是一对一的关系， 如果一个用户只能评论一条，可以这么使用。<br>2.先将用户查出来，然后再调用User Models中的comments方法，示例如下：</p>\n<p>public function test(){<br>   User::find($id)->comments;<br>}</p>\n<p>如果是一个用户可以评论多条则需要使用hasMany或belongsTo<br>具体使用方法可以参考laravel china手册关联关系章节：<br><a href=\"https://d.laravel-china.org/docs/5.5/eloquent-relationships#one-to-many-inverse\">https://d.laravel-china.org/d...</a></p>"]},{"title":"mysql索引问题，两个但索引是否会提高查询速度？","tags":["mysql"],"content":"<p>我需要用两个条件来查询，比如 where A = a and B = b，如果我用A建立了索引，那么我再用B建立索引会不会提高查询速度？<br>这两个索引都是单索引，不是联合索引。</p>","answer":["<p>你跑一下 <code>benchmark</code> 呀，这种 <strong>性能问题</strong> 需要结合多方面因素，特别是数据量的问题。</p>","<p>先说结论：会</p>\n<p>索引本质上是独立的索引文件，里面按照特定的顺序（一般采用B+树结构）记录了数据字段（A,B）和实际数据存储位置<br>在没有索引的时候，如果要查询某个字段=值，则需要遍历所有实际数据，然后和字段对比，也就是全表扫描<br>然而在拥有索引的时候，则不需要查询原始数据，只需要查询索引文件，分别查询出A和B匹配的记录，然后计算他们的交集，最后再根据索引中记录的实际位置去读取数据，避免了全表扫描<br>上面也说了，索引的记录是拥有特定顺序的，姑且不讨论细节，假设顺序是从小到大依次排列，那么最简单的就可以通过二分查找来定位匹配项，比遍历查询已经不知道快了多少了</p>\n<p>联合索引我不太清楚具体mysql内的实现方式，按照我<strong>个人的理解</strong>，联合索引和单索引的区别在于联合索引更加节约空间，两个字段的单索引就是两个索引文件，而联合索引是一个索引文件，内部<strong>类似于</strong>把多个字段字段按顺序混合成了一个字段进行了索引，所以联合索引并不能跳过A字段来快速搜索B字段，<strong>当然具体实现远比这个复杂</strong>，可以说肯定不可能通过简单的混合字段来实现联合索引，具体细节只能等熟悉mysql实现细节的大佬来回答了，这个我真的不知道</p>\n<p>联合索引这块我的确很少用不清楚，个人理解可能是错误的，欢迎大佬纠正</p>","<p>不一定,而且大多数情况下是更慢（有索引合并问题）。<br>以前写过一篇文章：<a href=\"https://segmentfault.com/a/1190000010443438\">MySQL多列索引应用</a></p>"]},{"title":"laravel的app.scss引入的bootstrap.scss这个文件在哪里？","tags":["sass","laravel","php"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4qy3?w=1477&h=977\"></span></p>\n<p>如上图，最后一句引入了‘～bootstrap-sass/assets/stylesheets/bootstrap'这个文件，我查的结果是这个文件应该是一个scss文件,但是我用phpstorm的文件搜索找不到这个文件在哪里？如果不存在，public/css/app.css这个文件难道默认不是用app.scss文件编译出来的？</p>","answer":["<p>请阅读 <a href=\"https://d.laravel-china.org/docs/5.5/mix\">Laravel 的资源任务编译器 Laravel Mix</a></p>\n<p>你需要执行 <code>npm install</code> 前提是你安装好了 <code>nodejs</code></p>"]},{"title":"webpack4 和过去有哪些不同","tags":["webpack"],"content":"<p>今天继续按照webpack官网的<a href=\"https://doc.webpack-china.org/guides/getting-started/\">起步</a>学习webpack，</p>\n<p>发现新装的webpack4会报错This is probably not a problem with npm,there is likely additional logging output above，配置就是官网上最简单的起步那一章的配置，所以现在webpack4究竟和过去配置上有哪些不一样的地方呢？</p>","answer":["<p>plugins的配置方式变化了。具体参考 tapable.<br>loader 的方式变化了，modules.loader  => modules.rules</p>"]},{"title":"没理解这段代码，请教","tags":["javascript"],"content":"<p>var a = 2;<br>var func = (function() {</p>\n<pre><code>var a = 3;\nreturn function() {\n    a++;\n    console.log(a);\n}</code></pre>\n<p>})();<br>func();<br>func();<br>  请问下这题的结果是啥，以及为何会返回这样的结果？</p>","answer":["<p><code>func</code>等于一个闭包，返回的是一个函数，当<code>func</code>(闭包)执行的时候，闭包中的变量是存放在内存中不会销毁的，此时<code>console.log</code>打印的是闭包中的变量，所以<code>a</code>一直在加，并且跟全局的<code>a</code>没关系</p>","<p>4 5<br>函数运行在定义时 所以a指的是3的那个a<br>func 是a++的那个function 所以4 5</p>","<p>典型的闭包，面试基础题，</p>\n<pre><code>func=function(){\n  a++;//这里a的初始值指向3\n  console(a)\n}</code></pre>\n<p>执行两次的结果分别是4 5</p>"]},{"title":"ThinkPHP   事务锁","tags":["mysql","php"],"content":"<p>ThinkPHP 的 事务锁 该怎么样使用<br>在并发请求时，生成的订单会超过库存<br>该怎怎么办</p>\n<pre><code>function {\n            ...\n            // 查询库存\n            ...\n            // 用户积分是否足够\n            ...\n            // 生成订单并扣除库存\n\n            ...\n   }</code></pre>","answer":["<p>扣除库存 和 生成订单  都放在事务操作里面</p>\n<pre><code>function {\n            ...\n            // 查询库存\n            ...\n            // 用户积分是否足够\n            //开始事务\n            ...\n            // 生成订单并\n            \n            //除库存\n             //提交事务,失败则回滚\n            ...\n   }</code></pre>","<p>可以看看这个问题：<a href=\"https://segmentfault.com/q/1010000005723238\">PHP高并发下单用事务可以解决吗？</a></p>"]},{"title":"同一个接口多次触发，怎么让他们返回结果后在触发第二次，而不是并行触发","tags":["javascript"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oSC?w=780&h=383\"></span><br>最后结果要求输出12345，最好只在接口函数里面改，因为有可能，外面是多个地方会调用</p>","answer":["<p>所有进入<code>myFetch</code>里的请求都会被缓存进一个数组</p>\n<pre><code>function AjaxFuc() {\n    let flag = true;\n    const bufferArray = [];\n\n    return function myFetch(i) {\n        if (flag) {\n            flag = false;\n            setTimeout(() => {\n                console.log(i);\n\n                flag = true;\n                if ((i = bufferArray.shift() )!== undefined) {\n                    myFetch(i);\n                }\n\n            }, i % 2 === 0 ? 200 : 300);\n        } else {\n            bufferArray.push(i);\n        }\n    }\n}\n\nvar myFetch = AjaxFuc();\n\nlet a = [1, 2, 3, 4, 5];\na.map((v, i) => {\n    this.myFetch(v);\n})</code></pre>","<pre><code>const o={\n        ajaxFun:function(i){\n            return new Promise((resolve,reject)=>{\n                setTimeout(function(){\n                    console.log(i);\n                    resolve(i);\n                },i%2==0?200:300)\n            });\n        },\n        mounted:function(){\n            const a=[1,2,3,4,5,6];\n            var g=a[Symbol.iterator]();\n            var me=this;\n            function next(){\n                var v=g.next().value;\n                if(v){\n                    me.ajaxFun(v).then(next);\n                }\n            }\n            next();\n        }\n    }\n    o.mounted();</code></pre>","<p><code>AjaxFuc</code> 需要一个 <code>callback</code> 参数，如果没有，那就加上。剩下的，顺序控制什么的放到 <code>callback</code> 里就好了。</p>"]},{"title":"vue为了兼容ie9，通过webpack npm安装promise不成功","tags":["vue.js","webpack"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4qoG?w=945&h=542\"></span></p>\n<p>通过npm install es6-promise --save，<br>npm install es6-promise --save-dev，<br>npm install es6-promise-polyfill --save，<br>npm install --save es6-promise，<br>显示都是added成功，但就是在package.json里找不到，去mode-modules里也搜不到promise，运行报错，这是什么原因</p>","answer":["<p>已解决，把npm换成cnpm就OK了，这闹的，以后类似的问题可以这样试试</p>"]},{"title":"正则如何从html字符串里得到网站描述呢？","tags":["正则表达式","node.js","javascript"],"content":"<pre><code><meta name=\"description\" content=\"在线开发Web前端代码，在线测试ES6代码，在线查找HTML5和CSS3实例代码\"> \n</code></pre>\n<p>已经有html 内容了。<br>正则怎么写才能得到content 呢？</p>\n<p>希望通用一点，对任何网站都适用。</p>","answer":["<pre><code>var Meta = $('meta[name=\"description\"]').attr('content');</code></pre>","<p><code>[<].*content=\"(.*)\".*[>]</code><br>$1 就可以取到content 的值</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pV2?w=1402&h=976\"></span></p>","<p>写过爬虫的就知道，有很多包都能解决这个问题， 给你推荐一个我最常用的包 cheerio</p>\n<p><a href=\"https://github.com/cheeriojs/cheerio\">https://github.com/cheeriojs/...</a></p>"]},{"title":"react-router 动态菜单","tags":["react-router4","react.js"],"content":"<p>根据后台返回的数据结构渲染路由。</p>\n<p>1.事先引入所有的路由组件</p>\n<pre><code>import { view as TaxRateConfig } from \"./../dashboard/SystemConfig/TaxRateConfig\";\n...</code></pre>\n<p>2.根据后台返回的数据格式渲染</p>\n<pre><code>      if (item.Children) {\n        item.Children.map(route => {\n          routes.push(\n            <Route\n              path={`/${parentPath}/${route.Path}`}\n              render={props => <route.Component {...props} />} //这里一个都渲染不出来\n             // render={props => <div>{route.Component}</div>}    //这里验证可行\n            />\n          );\n        });</code></pre>\n<p>3.后台返回的数据格式</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4qeU?w=423&h=104\"></span></p>\n<p>问题大概找到了 就是</p>\n<pre><code>render={props => <route.Component {...props} />} //这里一个都渲染不出来</code></pre>\n<p>这里的route.Component 对应的是后台的Component字段 但是根本没有引用 import 对应的 组件。该怎么处理呢？</p>","answer":["<p>你应该在这个函数外面把所有的组件都引入进来，组成一个对象，类似：</p>\n<pre><code>import TaxRateConfig from xxxx\n\nlet map = {\n    TaxRateConfig\n}\n\nrender={props => <map[route.Component] {...props} />} //这里一个都渲染不出来</code></pre>","<p>按需引用,全部用按需引用拉进来。然后在你要map的时候会去引入</p>\n<pre><code class=\"js\">import React from 'react';\nimport { asyncComponent } from 'react-async-component';\n\nexport default function wrapAsyncComponent(resolve) {\n  return asyncComponent({\n    resolve: resolve,\n    LoadingComponent: () => <div>Loading</div>,\n    ErrorComponent: ({ error }) => <div>{error.message}</div>\n  });\n}\n\nconst Buttons = asyncComponent(() => import('./button'));</code></pre>"]},{"title":"Cannot find module 'uuid/v1'","tags":["node.js","javascript","服务器"],"content":"<p>项目部署到服务器，调用npminstall，但是找不到uuid/v1，我已经添加依赖了</p>\n<pre><code>module.js:472\n    throw err;\n    ^\n\nError: Cannot find module 'uuid/v1'\n    at Function.Module._resolveFilename (module.js:470:15)\n    at Function.Module._load (module.js:418:25)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n    at Object.<anonymous> (/mnt/app/schedule/server/service/planSrv.js:6:16)\n    at Module._compile (module.js:571:32)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n    at Object.<anonymous> (/mnt/app/schedule/server/controllers/schedue.js:1:79)\n    at Module._compile (module.js:571:32)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n    at Object.<anonymous> (/mnt/app/schedule/server/routes/schedue.js:2:18)\n    at Module._compile (module.js:571:32)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n\n\n\n</code></pre>","answer":["<ol>\n<li>图片加载失败；</li>\n<li>检查是否全局安装的 <code>npm install -g</code>\n</li>\n</ol>","<p>你可以试试 npm install uuid --save</p>"]},{"title":"go语言里面关于channel和select的问题","tags":["select","channel","golang"],"content":"<p>我有段代码是启动了一个goroutine，在一个无限循环中给一个channel数组中一个随机元素赋值，主线程使用select从中取值，但是通过打印我发现，goroutine执行两次循环后，切换到主线程，，特别有规律，这是为什么？这种切换不是cpu随机的吗？怎么会有这种规律性？（可以看x和y的打印结果）<br>代码如下：<br>package main</p>\n<p>import (</p>\n<pre><code>\"math/rand\"\n\"fmt\"\n\"time\"</code></pre>\n<p>)</p>\n<p>func main() {</p>\n<pre><code>rand.Seed(time.Now().UTC().UnixNano())\nchannels := make([]chan bool, 6)\nfor i := range channels {\n    channels[i] = make(chan bool)\n}\ngo func() {\n    for {\n        y := rand.Intn(6)\n\n        fmt.Printf(\"y:%d\\n\", y)\n        channels[y] <- true\n\n    }\n}()\nfor i := 0; i < 36; i++ {\n    var x int\n    select {\n    case <-channels[0]:\n        x = 1\n    case <-channels[1]:\n        x = 2\n    case <-channels[2]:\n        x = 3\n    case <-channels[3]:\n        x = 4\n    case <-channels[4]:\n        x = 5\n    case <-channels[5]:\n        x = 6\n    }\n    fmt.Printf(\"x:%d\\n\", x)\n}\nfmt.Println()</code></pre>\n<p>}<br>输出结果：<br>y:2<br>y:2<br>x:3<br>x:3<br>y:1<br>y:2<br>x:2<br>x:3<br>y:0<br>y:2<br>x:1<br>x:3<br>y:1<br>y:2<br>x:2<br>x:3<br>y:1<br>y:5<br>x:2<br>x:6<br>y:0<br>y:1<br>x:1<br>x:2<br>y:4<br>y:5<br>x:5<br>x:6<br>y:1<br>y:4<br>x:2<br>x:5<br>y:0<br>y:5<br>x:1<br>x:6<br>y:5<br>y:1<br>x:6<br>x:2<br>y:2<br>y:0<br>x:3<br>x:1<br>y:3<br>y:3<br>x:4<br>x:4<br>y:1<br>y:2<br>x:2<br>x:3<br>y:1<br>y:3<br>x:2<br>x:4<br>y:5<br>y:2<br>x:6<br>x:3<br>y:4<br>y:0<br>x:5<br>x:1<br>y:2<br>y:1<br>x:3<br>x:2<br>y:4<br>y:1<br>x:5<br>x:2</p>\n<p>Process finished with exit code 0</p>","answer":["<p>cpu 和 goroutine 默认情况下并不是 1:1 的关系，对各个 goroutine 的调度是 go runtime 的调度器决定的</p>","<p>因为你用的阻塞模式, 两个协程形成互相依赖.</p>\n<p>发送方 <strong>channels[y] <- true</strong> 被阻塞, 直到接收方 <strong>case <-channels[x]:</strong> 接收了, 反向亦然.</p>\n<p>你可以设置 channel 缓存观察不一样的结果, 示例如下</p>\n<pre><code>package main\nimport (\n    \"fmt\"\n    \"math/rand\"\n    \"time\"\n)\nfunc main() {\n    rand.Seed(time.Now().UTC().UnixNano())\n    channels := make([]chan bool, 6)\n    for i := range channels {\n        channels[i] = make(chan bool, 6)\n    }\n    go func() {\n        for i := 0; i < 36; i++ {\n            y := rand.Intn(6)\n            fmt.Printf(\"y:%d\\n\", y)\n            channels[y] <- true\n        }\n    }()\n    for i := 0; i < 36; i++ {\n        var x int\n        select {\n        case <-channels[0]:\n            x = 1\n        case <-channels[1]:\n            x = 2\n        case <-channels[2]:\n            x = 3\n        case <-channels[3]:\n            x = 4\n        case <-channels[4]:\n            x = 5\n        case <-channels[5]:\n            x = 6\n        }\n        fmt.Printf(\"x:%d\\n\", x)\n    }\n    fmt.Println()\n}</code></pre>"]},{"title":"如何防止网络抖动造成的mysql数据重复写入情况","tags":["mysql","网络"],"content":"<p>从本地向阿里云数据库写数据，总计100W条，用的外网</p>\n<p>但是由于网络抖动，最后写进去了100W+172条， 这172条出现在大于40W左右的位置，重复了位置38W处的172条数据<br>正好那段时间网络抖动了一段时间，应该就是这个原因</p>\n<p>发现数据不对，找到数据位置以及删掉数据用了不少时间<br>想问一下，如果防止这种情况呢？</p>\n<hr>\n<p>由于数据结构的原因，unique key不方便使用</p>","answer":["<p>用事务。</p>\n<blockquote>事务是一种机制、是一种操作序列，它包含了一组数据库操作命令，这组命令要么全部执行，要么全部不执行。因此事务是一个不可分割的工作逻辑单元。在数据库系统上执行并发操作时事务是作为最小的控制单元来使用的。这特别适用于多用户同时操作的数据通信系统。例如：订票、银行、保险公司以及证券交易系统等。</blockquote>\n<p>当其中有某个命令出现问题，可以回滚</p>","<p>并发写入嘛？<br>插入数据前判断数据存在，用<strong>悲观锁</strong>，语法：select <em>*</em> for update<br>字段要加上索引，因为MySQL的行锁是基于索引的</p>"]},{"title":"宽度是百分比，想设置高是宽的二分之一，能通过CSS实现吗，calc()可以吗","tags":["html5","css","javascript"],"content":"<p>width:25%;<br>想要设置高是宽的一半，如何实现，我知道可以通过JS获取宽度然后设置</p>","answer":["<p>1.方案一：</p>\n<pre><code>div {\n  width: 25%;\n  height: 0;\n  padding-bottom: 12.5%;\n  background: blue;\n}</code></pre>\n<p>2.方案二,如果元素的宽度是视口宽度的25%，则可以用如下方法</p>\n<pre><code>div {\n    width: 25vw;\n    height: 12.5vw;\n}</code></pre>\n<p><a href=\"https://www.zhihu.com/question/31753528\">https://www.zhihu.com/questio...</a></p>","<p>vw是个好东西。</p>"]},{"title":"vue-resource请求数据问题","tags":["vue-resource"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pR4?w=1041&h=257\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pSd?w=1010&h=133\"></span></p>\n<p>能够返回数据 但还是报错</p>","answer":["<p>跨域问题，你可以看得到返回的数据，但是无法直接使用数据</p>"]},{"title":"JavaScript defineProperty与直接定义对象属性的区别？","tags":["javascript"],"content":"<pre><code>let obj = {\n    \"info\": msg => alert(msg)\n}\n\nlet obj2 = {\n  [\"info\"]: msg => alert(msg)\n}\n\nconsole.log(obj, obj2);</code></pre>\n<p>上面一段代码，通过Babel翻译过后为</p>\n<pre><code>\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar obj = {\n  \"info\": function info(msg) {\n    return alert(msg);\n  }\n};\n\nvar obj2 = _defineProperty({}, \"info\", function info(msg) {\n  return alert(msg);\n});\n\nconsole.log(obj, obj2);</code></pre>\n<p>最后生成的obj和obj2看上去对象结构是一致的，咨询一下各位大神这两者有什么区别么</p>","answer":["<p>因为有特殊意义：</p>\n<blockquote>该方法允许精确添加或修改对象的属性。通过赋值来添加的普通属性会创建在属性枚举期间显示的属性（for...in 或 Object.keys 方法）， 这些值可以被改变，也可以被删除。这种方法允许这些额外的细节从默认值改变。默认情况下，使用Object.defineProperty()添加的属性值是不可变的。<p>来自 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty() - JavaScript | MDN</a></p>\n</blockquote>"]},{"title":"IntelliJ IDEA中如何去除这样的警告（域未赋值）","tags":["spring","java","intellij-idea"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pLi?w=779&h=125\"></span></p>\n<p>将Highlighting Level从Inspections改成Syntax是可行的，但是我不希望这样做。</p>\n<p>我希望能在Settings-Editor-Inspections中定位到它，并关闭它。</p>\n<p>有人知道这个检查的具体设置位置吗？不胜感激。</p>","answer":["<p>field上加上 @SuppressWarnings(\"unused\")</p>"]},{"title":"canvas drawImage 闪屏问题","tags":["canvas","javascript"],"content":"<p>代码如下 在进行</p>\n<pre><code>if(-ballX >= canvas.width-10){\n     ballX = 0\n     ctx.drawImage(img,canvas.width, 0,0,0); \n}</code></pre>\n<p>这个地方判断的二次重新绘制的时候会出现闪屏 有大神知道怎么解决吗？<br><!DOCTYPE html><br><html lang=\"en\"><br><head></p>\n<pre><code><meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>loading</title>\n<style>\n    #loading{\n        display: block;\n        margin: 0 auto;\n    }\n</style></code></pre>\n<p></head><br><body></p>\n<pre><code><canvas id=\"loading\" width=\"187\" height=\"91\"></canvas>\n<script>\n    var requestAnimationFrame = requestAnimationFrame ? requestAnimationFrame : webkitRequestAnimationFrame,\n          cancelAnimationFrame  = cancelAnimationFrame ? cancelAnimationFrame : webkitCancelAnimationFrame;\n    var canvas = document.getElementById('loading')\n    var ctx = canvas.getContext(\"2d\")\n    /*  \n    设置背景  \n        createPattern(img,平铺方式)  \n        平铺方式:repeat,repeat-x,repeat-y,no-repeat  \n    */  \n    var imgs = new Image();  \n    var xspeed = -2;\n    var ballX = 0\n    // imgs.src = \"../loading/images/bg.png\";  \n    // imgs.onload = function() {  \n    //   ctx.drawImage(imgs, 0, 0);  \n    // }\n    var img = new Image();\n        img.src = \"../loading/images/bg.png\"; \n    function animate(){\n        requestAnimationFrame(animate);\n        draw();\n    }\n    requestAnimationFrame(animate);\n    function draw(){\n        \n           ballX += xspeed;\n        ctx.beginPath();\n        if(-ballX >= canvas.width-10){\n           ballX = 0\n           ctx.drawImage(img,canvas.width, 0,0,0); \n        }else{\n           ctx.clearRect(0,0,canvas.width,canvas.height);\n           ctx.drawImage(img,ballX, 0); \n        }\n        ctx.closePath();\n    }\n</script></code></pre>\n<p></body><br></html></p>","answer":["<p>闪烁是因为图片从无到有，视觉上的差异性导致的，不是代码的问题，你可以改下实现逻辑，如：渐进式的 无--有--无</p>\n<pre><code>var img = new Image();\nimg.onload = animate;\nimg.src = \"http://p0.so.qhimgs1.com/bdr/200_200_/t01f83d392c3132fa1a.jpg\"; \nfunction animate(){\n    requestAnimationFrame(animate);\n    draw();\n}\nfunction draw(){\n    ballX += xspeed;\n    ctx.beginPath();\n    ballX = (-ballX >= canvas.width-10)?canvas.width:ballX\n    ctx.drawImage(img,ballX, 0); \n    ctx.closePath();\n}</code></pre>"]},{"title":"微信小程序本来就有开发文档为什么还要弄个小程序框架wepy","tags":["javascript","微信小程序"],"content":"<p>微信小程序本来就有开发文档为什么还要弄个小程序框架wepy</p>","answer":["<p>微信小程序原生框架比较繁琐,有点像VUE，又像React。微信团队就针对原生封装了个wepy，类似VUE。除了框架写法改变,还有很多性能上的提升，值得一用。</p>"]},{"title":"如何管理多个前端H5推广页面，注册页。页面是基于vue开发","tags":["vue.js","webpack","javascript"],"content":"<p>公司目前经常有各种推广，主要是H5注册页，页面结构一致，逻辑也一样，图片文字会有不同。为了便于后期维护，第一：需要抽离公用的js，比如api，正则验证，方便后期一处修改所有页面生效。第二：需要一个配置文件config.js，为不同页面配置不同的图片，文字，包括埋点等。大神们有什么好的建议吗？</p>","answer":["<p>1.首先公用的js可以直接抽离一个js文件,将正则验证和api接口请求通过export default导出;<br>2.配置文件可能就有些复杂啦,实际上一般应该是把这些配置项放在后台更好,因为后台更安全,可以借用的工具类也更多,不会让前端很重.我说一下我的看法,可以大致分下类静态资源配置(图片,文本信息)和功能配置,两大配置主要就是监听router,看router变化对应的再填充对应的方法<br>3.这是个大致思路,希望可以帮到你</p>"]},{"title":"Vue组件中要展示代码，如何使用 highlight.js？","tags":["highlight","vue.js"],"content":"<p>我要在Vue组件中展示代码，需要用到<code>highlight.js</code><br>网上各种方法都找了，都没有成功，究竟怎么使用？</p>","answer":["<p>参考这个宝宝的完整过程, 最后有示例,</p>\n<p><a href=\"https://www.metachris.com/2017/02/vuejs-syntax-highlighting-with-highlightjs/\">https://www.metachris.com/201...</a></p>"]},{"title":"同一字符串，PHP base64_decode解码返回false，在线解码却正常","tags":["php"],"content":"<p>做支付接口，银行返回数据都经过base64，需要先解码。<br>其他流程调用同一个函数，其中作base64_decode()解码没问题，都没问题，但到支付反馈接口时就出现无法解码成功。有的解码能出现文本，但是乱码。做了字符编码转换也没用。<br>可同样的数据放在网站上解码可得到正确的文本。<br>百度过有说是空格什么的字符导致解码出错，但检查过后也没这个问题。</p>\n<pre><code>$s = \"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+PHJlc3BvbnNlPjxoZWFkPg0KPHJlc3BvbnNlQ29kZT5DU1BBLkUwMDAwMzM8L3Jlc3BvbnNlQ29kZT4NCjxyZXNwb25zZUluZm8+5ZWG5oi3562+57qm6LSm5oi357G75Z6L5LiN5ZCI5rOVITwvcmVzcG9uc2VJbmZvPg0KPC9oZWFkPg0KPC9yZXNwb25zZT4=,MIIEZQYJKoZIhvcNAQcCoIIEVjCCBFICAQMxCTAHBgUrDgMCGjALBgkqhkiG9w0BBwGgggMcMIIDGDCCAgCgAwIBAgIQYJiGMHRzcwcr8DtN4OzzBzANBgkqhkiG9w0BAQUFADBdMQswCQYDVQQGEwJjbjEWMBQGA1UEChMNYmFuayBvZiBjaGluYTEQMA4GA1UECBMHYmVpamluZzEQMA4GA1UEBxMHYmVpamluZzESMBAGA1UEAxMJYm9jbmV0IGNhMB4XDTA4MTAxODA3NTQyM1oXDTE4MTAwNjA3NTQyM1owNzELMAkGA1UEBhMCQ04xFjAUBgNVBAoTDUJBTksgT0YgQ0hJTkExEDAOBgNVBAMTB0JPQ1NpZ24wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAKyIAbb9FOLikUSHpi6VJum4PnCJ/CFBC9q7rucP/7V3iTaM4LM84oxcPB+7N/t6XXD6XSxl4Y9I963+j9Rgb0krsjf9Y/aipr1uuBueEiuZymIYhUJGBran5V04a7jyTDSqSYAKoZKIJ9Ti7u8UoGd5CED76uyNzlHequDmYTXtAgMBAAGjfjB8MB8GA1UdIwQYMBaAFCZqvzWrI5lrG/BQN416c2DaAVJQMC0GA1UdHwQmMCQwIqAgoB6GHGh0dHA6Ly8yNi4xMjAuMzYuMzIvY3JsMS5jcmwwCwYDVR0PBAQDAgbAMB0GA1UdDgQWBBSzPKFT/y0od/001puh31jj7w4y4TANBgkqhkiG9w0BAQUFAAOCAQEAXM3aK8LqRyhXBbMMhHOBW/abpEK3YQEtWss0wsOL/nFawPwDUX7u0IPHaRrLYqZLzmyLnu3cmSeGENnFQbkqJJA9APJ1XzZL94vO6876xA2/p0feLuplftvDTSkahqctTVNOXybv0uD7xLOgL/E6i2BIUKyPZ6vYN5EqmUuzD7kPsGCQbZIg1breiuTaUSRbhbcNuCJTJG2AOxleMX8DKP8UGR6ek1MnzsrU+bH2ahlEeaWmc1Y2p0pUAuSHEGfU541gf88TsPBNA4mwco5m1WDysOEwu6CR0KM7JzJMu7SpnVWZuXvWUmTKKPbEYFu6sor99MPHa4NUYUtbzehnBTGCARMwggEPAgEDMHEwXTELMAkGA1UEBhMCY24xFjAUBgNVBAoTDWJhbmsgb2YgY2hpbmExEDAOBgNVBAgTB2JlaWppbmcxEDAOBgNVBAcTB2JlaWppbmcxEjAQBgNVBAMTCWJvY25ldCBjYQIQYJiGMHRzcwcr8DtN4OzzBzAHBgUrDgMCGjALBgkqhkiG9w0BAQEEgYB6DP2XBJ7cuysok+fArxIJ1NRcD7g+aUZMtEShpyTVZ+gtFesxRzCeJfcS5LESgZYJGTqyBfzzd7xRPinghyqrk53slEIzENtRnMSxS4I4eCSGYzhsPfXk+U3ignTJrHgvEcxAybeFCk/CCpnPOC3ji/IxIfWFWlNHIXfAVLmA1A==\";\n$output = base64_decode($s);\nvar_dump($output);</code></pre>","answer":["<p><code>base64_decode</code>一次只能解码一个base64<br>你这里有2个base64</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pyV?w=831&h=110\"></span></p>"]},{"title":"shiro 关闭浏览器同时关闭session会话","tags":["spring","java"],"content":"<p>现在有一个需求是关闭浏览器同时需要关闭session,请问这个怎么实现了？<br>使用的框架 有spring,shiro</p>","answer":["<p>无法实现, http 协议本身无状态, 你无法知道用户是关闭了浏览器还是开着浏览器页面没有管. 所以默认的 session 有 30 分钟超时. </p>\n<p>你只能利用这个超时, 比如, 你在服务器上缩短 session 超时时间到 2 分钟, 然后在浏览器端不断(每分钟)向服务器发一个请求, 让服务器刷新 session. 这样也会加大服务器压力, 搞死运维吧, 不要这做做.</p>","<p>试试  authcBasic</p>"]},{"title":"Java8的stream，使用static对List students赋值放到Collectors打印出来，怎么改代码？","tags":["java","java8"],"content":"<pre><code>package com.graduation.project.dataCollector.test.stream;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class studentStream {\n    private List<Student> students;\n    static{\n        // 初始化\n        List<Student> students = new ArrayList<Student>() {\n            {\n                add(new Student(20160001, \"孔明\", 20, 1, \"土木工程\", \"武汉大学\"));\n                add(new Student(20160002, \"伯约\", 21, 2, \"信息安全\", \"武汉大学\"));\n                add(new Student(20160003, \"玄德\", 22, 3, \"经济管理\", \"武汉大学\"));\n                add(new Student(20160004, \"云长\", 21, 2, \"信息安全\", \"武汉大学\"));\n                add(new Student(20161001, \"翼德\", 21, 2, \"机械与自动化\", \"华中科技大学\"));\n                add(new Student(20161002, \"元直\", 23, 4, \"土木工程\", \"华中科技大学\"));\n                add(new Student(20161003, \"奉孝\", 23, 4, \"计算机科学\", \"华中科技大学\"));\n                add(new Student(20162001, \"仲谋\", 22, 3, \"土木工程\", \"浙江大学\"));\n                add(new Student(20162002, \"鲁肃\", 23, 4, \"计算机科学\", \"浙江大学\"));\n                add(new Student(20163001, \"丁奉\", 24, 5, \"土木工程\", \"南京大学\"));\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        List<Student> civilStudents = students.stream()\n                .filter(student -> \"土木工程\".equals(student.getMajor())).limit(2)\n                .collect(Collectors.toList());\n    }\n}</code></pre>\n<pre><code>package com.graduation.project.dataCollector.test.stream;\n\nimport lombok.NoArgsConstructor;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class Student {\n\n    /** 学号 */\n    private long id;\n\n    private String name;\n\n    private int age;\n\n    /** 年级 */\n    private int grade;\n\n    /** 专业 */\n    private String major;\n\n    /** 学校 */\n    private String school;\n\n}</code></pre>\n<p>根据楼下的回答，修改完</p>\n<pre><code>package com.graduation.project.dataCollector.test.stream;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class StudentStream {\n    private static List<Student> students;\n    static{\n        // 初始化\n        students = new ArrayList<Student>() {\n            {\n                add(new Student(20160001, \"孔明\", 20, 1, \"土木工程\", \"武汉大学\"));\n                add(new Student(20160002, \"伯约\", 21, 2, \"信息安全\", \"武汉大学\"));\n                add(new Student(20160003, \"玄德\", 22, 3, \"经济管理\", \"武汉大学\"));\n                add(new Student(20160004, \"云长\", 21, 2, \"信息安全\", \"武汉大学\"));\n                add(new Student(20161001, \"翼德\", 21, 2, \"机械与自动化\", \"华中科技大学\"));\n                add(new Student(20161002, \"元直\", 23, 4, \"土木工程\", \"华中科技大学\"));\n                add(new Student(20161003, \"奉孝\", 23, 4, \"计算机科学\", \"华中科技大学\"));\n                add(new Student(20162001, \"仲谋\", 22, 3, \"土木工程\", \"浙江大学\"));\n                add(new Student(20162002, \"鲁肃\", 23, 4, \"计算机科学\", \"浙江大学\"));\n                add(new Student(20163001, \"丁奉\", 24, 5, \"土木工程\", \"南京大学\"));\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n//        List<Student> civilStudents = students.stream()\n//                .filter(student -> \"土木工程\".equals(student.getMajor())).limit(2)\n//                .collect(Collectors.toList());\n        students.stream()\n                .filter(student -> \"土木工程\".equals(student.getMajor()))\n                .limit(2)\n                .forEach(System.out::println);\n    }\n}</code></pre>","answer":["<p>题主首先先回答你的问题<br>直接改为：</p>\n<pre><code>students.stream()\n        .filter(student -> \"土木工程\".equals(student.getMajor()))\n        .limit(2)\n        .forEach(System.out::println);</code></pre>\n<p>这里解释哈，采用<code>Stream</code>对数据进行收集完之后，<code>collect</code>是把<code>Stream</code>中的数据收集起来，而<code>forEach</code>才是遍历每一个数据进行遍历处理的，这样就可以直接打印出来了</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pv0?w=734&h=267\"></span></p>\n<p>不过有几点需要指出的是，题主这个贴的代码问题有点小多，copy过来编译都不过</p>\n<ol>\n<li>既然对<code>students</code>进行静态模块的赋值，但是<code>students</code>竟然不是<code>static</code>的，所以<code>private List<Student> students</code>改为<code>private static List<Student> students</code>\n</li>\n<li>竟然static模块在给students属性赋值的，那就不应该重新再声明一个属性<code>List<Student> students</code>了，<code>List<Student> students = new ArrayList<Student>()</code>改为<code>students = new ArrayList<Student>()</code>\n</li>\n<li>最后有个小点... 类名<code>studentStream</code> 首字母请大写...非常别扭...<code>studentStream</code>改为<code>StudentStream</code>\n</li>\n</ol>\n<p>以上就是答案哈~</p>"]},{"title":"latex相对于markdown对公式和流程图的支持要好的多，为什么现在很多都只支持markdown？","tags":["markdown","latex"],"content":"<p>目前sf，github等等，现在大部分技术类网站都提供了markdown的支持，但是写东西经常要用到公式和流程图，latex对这块的支持感觉要比markdown好的多，latex也支持转html，为什么都不提供支持呢？</p>\n<blockquote>虽然用法可能大部分用户不习惯，但支持下对于科研类的文章和回答方便很多。</blockquote>\n<p>搜了下，github，已经被吐槽了...</p>\n<blockquote>I would like to stress this is not something we'd be looking for workarounds for. This is     something so central to software development (its math backend) that I think it is simply embarrassing that github doesn't offer any support for it!!!<br><a href=\"https://github.com/github/markup/issues/897\">https://github.com/github/mar...</a>\n</blockquote>\n<p>segmentfault干脆提前与时俱进一波吧，我看gitlab，wordpress都提供支持了。</p>","answer":["<p>因为个人感觉放到程序猿平均水平的 <strong>大多数情况</strong> 下，探讨问题只需要一个 <em>好看</em> 的排版和一个能 <em>正确高亮</em> 的代码块。</p>\n<p>要不要公式和流程图呢，我相信有这个需求，但是优先级恐怕不是特别高。</p>\n<p>当然可以提这个需求，让 <code>sf</code> 加到 TO-DO 里，等他们更新吧。</p>"]},{"title":"ES6 中 { ...item } 错误怎么解决","tags":["babel","react.js","es6","javascript"],"content":"<p>ES6 中 { ...item } 错误怎么解决.</p>\n<p>代码如下：</p>\n<pre><code> this.cacheData = newData.map(item => ({ ...item }));\n</code></pre>\n<p>是否是我babel 安装不够，或者没有webpack 引入的缘故</p>","answer":["<p>展开语法不是这样用的, item 已经是传入回调的单个元素的, 我猜你只是想赋值一下, 比如 <code>this.cacheData = newData</code> 而已.</p>\n<p>更多参考 spread 展开语法<br><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">https://developer.mozilla.org...</a></p>","<p>你现在用的是对对象展开，也就是说你的item应该也是一个对象。</p>\n<p>另外  出什么错？错误信息是啥？复现步骤是啥？挤牙膏似的交流是最没效率的。</p>"]},{"title":"如何监听url变化","tags":["javascript"],"content":"<p>以百度贴吧为例，你写了个脚本，当你打开某个帖子，脚本会运行，但当你点击下一页时，页面内容更新但不会刷新，于是脚本就不能在此页运行，刷新一下页面就可以，怎么解决这种问题<br>点击下一页的地址变化：<code>http://tieba.baidu.com/p/xxxxx</code> => <code>http://tieba.baidu.com/p/xxxxx?pn=2</code><br>试了下并无效</p>\n<pre><code>$(window).bind('hashchange', function() {\n         /* things */\n});</code></pre>","answer":["<p><a href=\"https://www.cnblogs.com/mininice/p/4064901.html\">如何监测浏览器url变化</a></p>"]},{"title":"vue中禁用键盘按键问题，急急急！","tags":["vue-cli","vue.js","javascript"],"content":"<p>在mounted中有如下代码，但是不起作用，不知道原因是什么？<br>按下Esc会先退出全屏，第二次按Esc时触发禁用，但是报错。<br>求解原因和解决方法。<br><span class=\"img-wrap\"><img data-src=\"/img/bV4oRR?w=700&h=307\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oS6?w=667&h=49\"></span></p>","answer":["<p>keyCode是只读的属性，不能给keyCode赋值吧</p>","<p>keyCode不能赋值，换个角度处理试试</p>\n<pre><code> var Istrue = true;\n    if(Istrue){\n         if(e && e.keyCode === 27){\n              Istrue = false;\n              window.event.returnValue = false;\n         }\n         if(e && e.keyCode === 122){\n              Istrue = false;\n              window.event.returnValue = false;\n         }\n    }</code></pre>"]},{"title":"vediojs如何播放rtmp视频流呢？","tags":["javascript"],"content":"<p>在做视频直播，想要用vediojs播放rtmp视频流，请问该如何实现呢？</p>","answer":["<pre><code><html>\n<head>\n<title> Stream Player </title>\n  <link href=\"video-js.css\" rel=\"stylesheet\" type=\"text/css\">\n  <script src=\"video.js\"></script>\n  <script>\n    videojs.options.flash.swf = \"video-js.swf\";\n  </script>\n</head>\n<body>\n <center>\n   <video id=\"livestream\" class=\"video-js vjs-default-skin vjs-big-play-\ncentered\"\n     controls autoplay preload=\"auto\" width=\"600\" height=\"300\"\n     data-setup='{\"techorder\" : [\"flash\"] }'>\n      <source src=\"rtmp://10.0.0.35:1935/live/test\" type=\"rtmp/mp4\">\n   </video>\n </center>\n</body>\n</html></code></pre>","<p>移动端不支持rtmp</p>"]},{"title":".htaccess文件如何实现访问指定目录跳转到404","tags":["php","nginx","htaccess","apache"],"content":"<p>apache服务器，比如想指定访问data目录跳转到404，请问如何写规则？</p>","answer":["<p>在.htaccess里写上\"<strong>ErrorDocument 404 error/404.html</strong>\" 后面是404路径,不需要双引号,保存后重启apache即可,希望能帮助到你</p>"]},{"title":"JS中直接var一个变量和不var，直接赋值，有什么区别？","tags":["css","html5","javascript"],"content":"<p>今天面试遇到的一个问题？先问的是不var，直接赋值，这个变量是全局变量。<br>然后问这两种在浏览器下有什么区别？(我回答了是不是变量和函数声明提升？，面试官说不是)</p>","answer":["<p>给个链接 <a href=\"http://www.jb51.net/article/77585.htm\"></a><a href=\"http://www.jb51.net/article/77585.htm\">http://www.jb51.net/article/7...</a></p>\n<p>这个问题实属坑爹，为题而有的问题。现在都用\"use strict\"模式 不写var会报错</p>","<p>这种问题早就过时了，没想到现在还有问的。简单来说，跟作用域范围有关：</p>\n<ol>\n<li>如果 var 和 no var 创建的变量都在全局作用域顶层（浏览器中是 window，Nodo.js 是 global），那么它们就没啥区别。</li>\n<li>如果出现在函数内部（或者有子作用域的代码块中），那么 var 创建的变量就是局部变量，而 no var 创建的变量实际上是一个直接赋值操作，按流程来讲会先找到变量然后再赋值。因为子作用域中找不到该变量，就会继续向上找，直到全局作用域，如果仍然不存在就会直接创建在全局作用域中。</li>\n</ol>","<p>如果之前未定义过，直接使用和var定义，基本上没有区别。<br>如果之前定义过，原内存释放与新内存开辟，指针指向新开辟的内存</p>","<p>这种问题一句话两句话说不清的，这里var与不var只是JS的执行原理(执行上下文)一部分内容，但是很重要，有很多所谓的面试官自己对JS底层的执行原理都搞不清楚。你把执行原理搞清楚了，什么作用域、作用域链、this、闭包都迎刃而解啦。</p>","<p>总结一点就是 没有var的总是全局变量  有var的就是当前作用域的变量</p>"]},{"title":"如何将js回调函数中的数据返回给最外层函数？","tags":["回调函数","node.js","javascript"],"content":"<p>我希望在nodejs中封装一个模块用于返回http请求的数据，基本的结构是这样：</p>\n<pre><code>const http=require('http');\n\nfunction getData(url){\n    http.get(url,function(res){\n        var body='';\n        res.on('data',function(str){\n            body+=str;\n        });\n        res.on('end',function(){\n            var result=JSON.parse(body);\n            //将result返回到getData外面\n        })\n    });\n}\n\nmodule.exports=getData;</code></pre>\n<p>最后可以通过调用getData函数返回数据。</p>\n<p><strong>所以问题是：</strong></p>\n<p>1.如果不借助promise和async function的话要怎么实现呢？能实现吗？</p>\n<p>2.如果我向下面一样直接返回，那返回值到底去哪里了？能取到吗？</p>\n<pre><code>res.on('end',function(){\n            var result=JSON.parse(body);\n            //将result返回到getData外面\n            return result；\n        })</code></pre>","answer":["<p>1.返回数据受<code>res Event</code>的限制，是一个<strong>异步操作</strong>。因此不用<code>promise</code>和<code>async await</code>的话是无法实现的。</p>\n<p>2.这个<code>return</code>是无法直接获取的。退一步，即使获取了也还是在<code>http.get</code>的回调函数里面，无法实现题目要求。</p>","<p>通过<code>res.on</code>绑定事件，当 检测到<code>end</code>事件时触发回调函数。没法同步return 数据的。这样的<code>module.exports=getData</code>导出结果也没什么意义。</p>","<p>1.是否可以在http外声明一个变量？在res end的时候把返回值赋给 这个变量，然后同样在http外return这个变量<br>2.在res.on事件内return是不会在调用的时候抛到函数的最外层的</p>","<p>可以加个回调函数，调用的时候传进去就行了</p>\n<pre><code>function getData(url,callback){\n    http.get(url,function(res){\n        var body='';\n        res.on('data',function(str){\n            body+=str;\n        });\n        res.on('end',function(){\n            var result=JSON.parse(body);\n            //将result返回到getData外面\n            callback && callback(result)\n        })\n    });\n}\n\n//调用\ngetData(url,function(data){\n    //你的操作\n})</code></pre>","<p>可以尝试使用：<a href=\"https://github.com/ForbesLindesay/sync-request\">https://github.com/ForbesLind...</a><br>但是还是推荐使用异步来实现</p>"]},{"title":"React中 arguments 和 props 的区别？","tags":["react.js"],"content":"<p>如题所述，看到一些教程里的代码，大部分用的是super(props)，但也有的地方是super (...arguments)</p>","answer":["<p><code>props</code>这样只获取到第一个参数<br>而<code>...arguments</code>用了<code>es6</code>的<strong>剩余参数</strong>可以获取到所有的参数数组</p>\n<pre><code>function func1(props){\n    console.log(props);\n}\nfunction func2(...arg){\n   console.log(arg);\n}\nfunc1(\"a\");  //a\nfunc1(\"a\",\"b\",\"c\");  //a\nfunc2(\"a\");  //[\"a\"]\nfunc2(\"a\",\"b\",\"c\");  //[\"a\",\"b\",\"c\"]</code></pre>"]},{"title":"用vue.js+element-ui做的xxx管理系统，整一批跟跟界面交互相关的测试用例，有完善的标准或者范例可以参考么？","tags":["vue.js"],"content":"<p>主要是做集成测试和系统测试，暂时还不考虑单元测试</p>","answer":["<ol>\n<li>去网上搜 element-ui 管理系统；</li>\n<li>比如：<a href=\"http://www.jb51.net/article/103786.htm\">链接描述</a>\n</li>\n</ol>"]},{"title":"laravel使用Eloquent每张数据表都要建一个模型吗？","tags":["laravel"],"content":"<p>要是使用每张表的数据是不是都要像下面这样建一个类文件呢 这样岂不是太麻烦了？</p>\n<pre><code><?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass User extends Model\n{\n     protected $table = 'user';\n     protected $primaryKey = 'id';\n     public $timestamps = false;\n}</code></pre>","answer":["<p>是很麻烦的，这个框架写个<code>hello world</code>都要这么久，我都懒得用，我都是直接<code>echo 'hello world'</code><br>现在的麻烦，将来维护的时候你会感谢的。而不是到将来的时候，一直说，这是谁写的代码？用原生 SQL， DB 构造，什么都有。<br>ps：多对多关联可以不写模型，也可以写。</p>","<p>题主的这种方式是 <code>ORM</code> 操作数据库；</p>\n<p>当然也可以使用原生查询, 比如 <code>$results = DB::connection('...')->table('...')->select('select * from users where id = :id', ['id' => 1]);</code></p>"]},{"title":"org.artofsolving.jodconverter.office.OfficeException: ？","tags":["java"],"content":"<p>项目采用的是<strong>LibreOffice 5</strong>和<strong>SWFTools</strong>两个插件进行附件转化为pdf,然后可以预览的功能。<br>测试发现word 97/2003 版本的内容能正常预览,能正常转化为pdf。<br>但是 word 2007/2010 版本的文件，如果内容里面有1,2,3这些序号（一般回车就会自动出现的），不能正常预览。<br>发现文件没有被转换成pdf格式,后台打印报错：<br><code>org.artofsolving.jodconverter.office.OfficeException: could not load document</code></p>\n<p>由于预览功能和插件这些都是老板写得，大家基本上直接拿过来就能用了，真没想到测试能测出这个bug。<br>隔壁组没有这个问题,但是代码都是一样的，没人管，因为都是拿过来直接用的，他们也没深究过这个问题。</p>\n<p>隔壁组都是win7系统，而我们组都是win10系统。</p>\n<p>把隔壁组的插件拿过来不能运行，缺少文件，但是我本地的插件也是从同组同事那里拷贝过来的，可以直接用，当然，他也没深究过，这个bug就很操蛋了，第三天了，一直在研究这个问题，当然，最近没项目所以时间花的多。。。</p>\n<p>隔壁组也没人能帮我，难道要找老板，老板万一解决不了不得喷死我？解决得了估计也要喷死我。。。</p>\n<p>所以来这里求援军了，有没有前辈也遇到过这种破问题。。。</p>\n<p>刚刚，同事用office打开我上传的文件报错，说格式有问题，为什么wps能打开。。。</p>","answer":["<p>好吧，我改好了。<br>是公司内部上传文件的代码有点问题。<br>最老的那位前辈解决了。<br>他说word 2007以上版本的多次写字节到输出流出现报错，所以他改成了下面这样：</p>\n<pre><code>// 一次写入多个字节到输出流中,减少IO访问次数\nwhile((numBytesRead = in.read(buffer)) != -1) {\n    out.write(buffer, 0, numBytesRead);\n}</code></pre>"]},{"title":"vue中两个input框输入值，自动计算总和到另一个Input框，怎么实现","tags":["html5","javascript"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4pCS?w=876&h=164\"></span><br>在vue中怎么实现在第一个input框中自动计算出后面两个input框的总和<br><el-form-item label=\"实收总金额\"></p>\n<pre><code>             <el-input placeholder=\"实收总金额\"  v-model=\"form.sum\"></el-input>\n           </el-form-item>\n           <el-input placeholder=\"实收金额1\" v-model=\"form.add\"></el-input>\n           <el-input placeholder=\"实收金额2\" v-model=\"form.add\"></el-input>\n           </code></pre>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4p3F?w=984&h=300\"></span></p>","answer":["<pre><code>computed:{\n    sum(){\n        return parseFloat(this.form.add1) + parseFloat(this.form.add2) \n    }\n}\nv-model = 'sum'</code></pre>\n<p>发送数据的时候把sum加上去</p>"]},{"title":"php如何取出array数组的某个值","tags":["php"],"content":"<p><strong>PHP代码</strong></p>\n<p>这是我用的php代码，其中<code>$redux_inlobase['media-favicon']</code>这个是用的固定的方法。</p>\n<pre><code><?php \n    if (isset($redux_inlobase['media-favicon']) && !empty($redux_inlobase['media-favicon'])) {\n        foreach ($redux_inlobase['media-favicon'] as $id => $param) {\n            echo $param.'<br>';\n        }\n    }\n?></code></pre>\n<p><strong>数据库array</strong></p>\n<p>这是数据库array数组的数据</p>\n<p>a: 3 : {</p>\n<pre><code>s: 8 : \"last_tab\";\ns: 0 : \"\";\ns: 13 : \"media-favicon\";\na: 5 : {\n    s: 3 : \"url\";\n    s: 62 : \"http://127.0.0.1/newkfm/wp-content/uploads/2018/02/favicon.png\";\n    s: 2 : \"id\";\n    s: 2 : \"11\";\n    s: 6 : \"height\";\n    s: 2 : \"64\";\n    s: 5 : \"width\";\n    s: 2 : \"64\";\n    s: 9 : \"thumbnail\";\n    s: 62 : \"http://127.0.0.1/newkfm/wp-content/uploads/2018/02/favicon.png\";\n}\ns: 10 : \"media-logo\";\na: 5 : {\n    s: 3 : \"url\";\n    s: 64 : \"http://ww4.sinaimg.cn/mw690/6b002b97gw1fb4pe1gb4xj202i01o744.jpg\";\n    s: 2 : \"id\";\n    s: 0 : \"\";\n    s: 6 : \"height\";\n    s: 0 : \"\";\n    s: 5 : \"width\";\n    s: 0 : \"\";\n    s: 9 : \"thumbnail\";\n    s: 0 : \"\";\n}</code></pre>\n<p>}</p>\n<p><strong>得到的结果</strong></p>\n<pre><code>http://127.0.0.1/newkfm/wp-content/uploads/2018/02/favicon.png\n11\n64\n64\nhttp://127.0.0.1/newkfm/wp-content/uploads/2018/02/favicon.png</code></pre>\n<p><strong>要怎么取出，比如：第一个url链接或是任意其中的一个值。</strong></p>","answer":["<pre><code>if (isset($redux_inlobase['media-favicon']['url']) && !empty($redux_inlobase['media-favicon']['url']) ) {\n                echo $redux_inlobase['media-favicon']['url'];\n            } else {\n                echo '没有条目';\n   }</code></pre>\n<p>不需要<code>forecho</code></p>"]},{"title":"控制器里面怎样使用eloquent的数据？","tags":["laravel"],"content":"<pre><code><?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass User extends Model\n{\n     protected $table = 'user';\n     protected $primaryKey = 'id';\n     public $timestamps = false;\n     public function comment(){\n         return $this->hasMany('App\\Models\\Comment', 'uid', 'uid');\n     }\n}\n</code></pre>\n<p>比如eloquent里面上面这样写的 我控制器中这样使用为什么不对？</p>\n<pre><code>use App\\Models\\User;\nclass TestController extends Controller{\n     public function test(){\n       $a=new User();\n       var_dump($a->comment());\n  }\n｝</code></pre>","answer":["<p>注意用法, 参考 <a href=\"https://laravel.com/docs/5.6/eloquent-relationships\">https://laravel.com/docs/5.6/...</a></p>\n<p>但推荐都换成复数的, 符合语义, 许多评论嘛,</p>\n<pre><code><?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass User extends Model\n{\n     protected $table = 'user';\n     protected $primaryKey = 'id';\n     public $timestamps = false;\n     public function comments(){ // 注意这里, 用属性\n         return $this->hasMany('App\\Models\\Comment', 'uid', 'uid');\n     }\n}</code></pre>\n<pre><code>use App\\Models\\User;\nclass TestController extends Controller{\n     public function test(){\n       $user = User::first();   // 注意这里, 取一个用户\n       // 当然, 这个用户没数据, 试着换一个用户, 比如\n       // $user = User::find(100); // 取 id 为 100 的用户, 看他有没有评论数据,\n       var_dump($user->comments); // 注意这里, 用属性\n  }\n｝</code></pre>"]},{"title":"websocket连接失败","tags":["php","swoole"],"content":"<p>已经打开了websocket的文件</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4n4h?w=732&h=55\"></span></p>\n<p>用 ps -axjf查看端口的时候也没有问题</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4n4p?w=874&h=114\"></span></p>\n<p>但是js调用websocket就出现了</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4n4A?w=713&h=183\"></span><br>连接被拒绝，代码按道理来说是没有问题的，但是为什么被拒绝连接呢。。。。</p>\n<p>参考的文档：<br><a href=\"https://wiki.swoole.com/wiki/page/479.html\">https://wiki.swoole.com/wiki/...</a><br>貌似很多人都出现了这个情况</p>","answer":["<p>你访问的是服务器还是本机虚拟机？从你的hostname随机性来看应该不是本机。</p>\n<p>如果是服务器，你访问的127.0.0.1(localhost)当然连接不上了。<br>如果是虚拟机，记得吧端口映射出来，机器中查看仅表明服务启动成功了，端口有木有开发是另一个问题。另外确认开的端口和你请求的是否一致。</p>","<p>ws 访问的应该是服务器的IP地址。另外查看端口9502 是否被websocket占用，命令 netstat -anp | grep 9502</p>","<p>应该是服务器地址什么的 不对 这个错误意思连接不上</p>"]},{"title":"element-ui upload组件可否使用 axios通信","tags":["element-ui","vue.js"],"content":"<p>项目使用element-ui upload组件上传文件场景。很是希望element能通过axios发送http, 这样就可以使用 axios interceptor统一处理所有http调用的架构。<br>如果不能用axios的话，对于后端发来的异常（未登录、无权限、各种错误等），还需要再使用element uoload组件时再处理一遍，麻烦。</p>\n<pre><code>        <el-upload\n          :with-credentials=\"true\"\n          name=\"file\"\n          action=\"http://localhost:9082/fileupload\"\n          :data = \"uploadParam\"\n          :show-file-list=\"false\"\n          :on-success=\"uploadSuccess\"\n          :on-error=\"uploadError\"\n          :before-upload=\"beforeUpload\">\n          <i class=\"fa fa-upload\"></i>\n        </el-upload></code></pre>","answer":["<p>可以通过 el-upload 的 beforeUpload方法中通过aixos post。方法return false，这样el-upload就不会再post了。</p>\n<pre><code>\n      let param = new FormData()  // 创建form对象\n      param.append('file', file, file.name)  // file对象是 beforeUpload参数\n      let config = {\n        headers: {'Content-Type': 'multipart/form-data'}\n      }\n     // 添加请求头\n    axios.post('http://172.19.26.60:8081/rest/user/headurl', param, config)\n        .then(response => {\n          if (response.data.code === 0) {\n            self.ImgUrl = response.data.data\n          }\n          console.log(response.data)\n        })\n    }\n    \n    return false</code></pre>","<p>upload有手动上传文件的模式，你仔细看下</p>\n<p>upload有change事件，会返回你上传的文件及列表，保存下来，然后写个按钮手动提交保存的文件</p>","<p>自己用axios实现一个上传组件也是很容易的事情</p>"]},{"title":"python 为什么不可以用for循环来修改列表元素 求解答谢谢！","tags":["python"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m2G?w=1179&h=458\"></span></p>\n<pre><code>names=['saddv','fgfd','hgn','dbhtr']\nfor name in names:\n    name='the great '+name\nprint(names)</code></pre>\n<p>输出的结果是：['saddv','fgfd','hgn','dbhtr']</p>","answer":["<p>Python的for循环遍历列表是利用列表中的每个元素来确定其在列表中的位置的。所以当你在遍历中改变该元素时，python解释器可能会错误定位元素位置，从而造成循环的崩溃。想要遍历并修改列表中的每个元素，请使用while循环或者新建一个列表然后使用list.append()方法</p>","<p>看你的for循环应该只是不停的修改了变量name的值，并未修改names列表。</p>\n<pre><code>names=['saddv','fgfd','hgn','dbhtr']\nfor i in range(len(names)):\n    names[i]='the great '+str(names[i]) \nprint(names)</code></pre>"]},{"title":"phpexcel能不能导出复选框的效果","tags":["phpexcel","php"],"content":"<p>就是类似这样的复选框<br><span class=\"img-wrap\"><img data-src=\"/img/bV4oUJ?w=395&h=121\"></span><br>网上找了很久也没有找到方法</p>","answer":["<p>你如果导出的是 PHPword 应该是可以的</p>"]},{"title":"spring 中bean太多相同的依赖有什么好的方式解决吗？","tags":["spring","java"],"content":"<p>假设我有 A，B，C，D，E，F，G 7个对象</p>\n<pre><code>其中 A 和 B 和 C 都需要用到 [D] [E] [F] [G] ,那么分别都通过 @Autowired 进行注入。\n\n结果就是[A][B][C]都分别引用了[D][E][F][G]，这样代码看起来好像很臃肿。\n\n如果我在写一个 H 对象，然后这个对象引用[D][E][F][G]，那么[A][B][C]只需要注入[H]就好了，\n这样子不知道在使用中有没有什么弊端 ?</code></pre>","answer":["<p>依赖本来就是要按需使用，<br>如果你的A对象又要依赖一个跟D、E、F、G同级的I对象，I对象要不要放进H里？<br>或者又有一个新的J对象只依赖D、E两个对象，难道还要新写一个只包含D、E的对象K？<br>当然如果有捆绑再一起使用的一组对象，还是可以放在一起的</p>"]},{"title":"加载页面时候js报错","tags":["javascript","bootstrap"],"content":"<p>加载页面的时候，页面为白屏，但是页面是加载进来的，代码都能看到。<br>js报错<br><span class=\"img-wrap\"><img data-src=\"/img/bV4noD?w=1920&h=1011\"></span></p>\n<p>请问是什么问题...怎么解决</p>","answer":["<p>Bootstrap 引用出错。</p>\n<ol><li>检查资源是否全部加载：jQuery.min等</li></ol>","<p>报错不是说了嘛。。。<code>data[option]不是个方法</code></p>","<p>js报错了呢，你可以在项目中搜一下 <code>data[option]</code>，看看是不是当成函数使用了，</p>"]},{"title":"php post 透過 ajax 給 https url？","tags":["json","curl","ajax-post-json-php","ajax","php"],"content":"<p>想請問我想讓表單送出後能透過 ajax 傳送到我指定的 https URL api ，然後印出對方api的json回覆訊息？有沒有簡單的範本？</p>","answer":["<ul><li>前端ajax请求，因为你请求的是别人的HTTPS api，就涉及到跨域问题了</li></ul>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oHN?w=480&h=257\"></span></p>\n<pre><code>var url = 'https://www.b.com';\nvar data = {\n   user_id : 18\n};\nfunction getdata() {\n    $.ajax({\n        type: 'POST',\n        url: url,\n        data : data,\n        dataType : 'jsonp',\n        success: function(res) {\n            console.log(res);\n        }\n    });\n}  </code></pre>\n<ul><li>通过php中转</li></ul>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oQ7?w=538&h=280\"></span><br>js</p>\n<pre><code class=\"javascript\">var url = 'https://www.a.com/api/getuser';\nvar data = {\n   user_id : 18\n};\nfunction getdata() {\n    $.ajax({\n        type: 'POST',\n        url: url,\n        data : data,\n        dataType : 'json',\n        success: function(res) {\n            console.log(res);\n        }\n    });\n}</code></pre>\n<p>php</p>\n<pre><code class=\"php\">function postdata($url, $data){\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);\n    return curl_exec($ch);\n}\n\n$url  = 'https://www.b.com/api/getuser';\n$data = [\n    'user_id' => $_POST['user_id']\n];\n$res  = postdata($url, $data);\necho json_encode(json_decode($res,true));</code></pre>","<pre><code><script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"></script>\n<script>\n    function PostData() {\n        $.ajax({\n            type: \"POST\",\n            url: \"https://x/x.php\",\n            data : \"data=\" + $(\"#input_0\").val(),\n            success: function(msg) {\n                alert(msg);\n            }\n        });\n        return false;\n    }  \n</script>\n<form onsubmit=\"return PostData()\">\n    <input id=\"input_0\" type=\"text\" value=\"\">\n    <input type=\"submit\">\n</form>  </code></pre>\n<p>向 <a href=\"https://x/x.php\">https://x/x.php</a> 发送一个 data=[val] 的 post 请求, [val] 是 input_0 标签的内容, 返回的结果在 msg 里.</p>"]},{"title":"react项目在webstorm编辑器上报错","tags":["react.js","webstorm"],"content":"<p><strong>问题已解决</strong></p>\n<p>react项目每次打开WebStorm的时候打开包含jsx语法的.js文件都会有以下提示<br><span class=\"img-wrap\"><img data-src=\"/img/bV4lAr?w=1097&h=616\"></span></p>\n<p>网上很多资料说是这里设置jsx harmony,但是我这里是react jsx ,我的webstorm版本是2017 2.5的<br>设置了react jsx后  还是报错误提示</p>\n<p>项目在浏览器是可以正常打开的</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lA6?w=1063&h=693\"></span></p>\n<p><strong>解决办法</strong><br>在.eslintrc文件设置</p>\n<pre><code>\"esversion\": 6</code></pre>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lNz?w=910&h=811\"></span></p>\n<p>这样就ok了！</p>","answer":["<p><strong>解决办法</strong><br>设置react jsx  <br><span class=\"img-wrap\"><img data-src=\"/img/bV4lA6?w=1063&h=693\"></span></p>\n<p>然后<br>在.eslintrc文件设置</p>\n<pre><code>\"esversion\": 6</code></pre>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lNz?w=910&h=811\"></span></p>","<p>你这是自问自答吗？这不应该是博客吗？</p>","<p>我的小心脏呀~</p>"]},{"title":"springmvc多例模式失效","tags":["java","spring"],"content":"<p>碰到了一个非常奇怪的问题，现例如下：<br>写了一个项目，底层是用SSM框架搭建的，本来没什么问题，但是用autowired注解注入的时候发现对象是单利的，而我想得到的对象是多例的，于是在spring里这样进行了配置</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4kXP?w=1372&h=96\"></span><br>对，我觉得这样配之后就是多例的了，然后用autowired进行对象注入<br><span class=\"img-wrap\"><img data-src=\"/img/bV4kYb?w=1121&h=269\"></span></p>\n<p>这里我用注解的方式对对象进行注入，然后调用了3次select这个方法，然后调用输出语句打印base对象的内存地址，结果却发现地址是一致的，这让我觉得很惊奇，接下来是spring的配置</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4k2K?w=1400&h=762\"></span></p>\n<p>spring_mvc的配置</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4k2Z?w=1312&h=708\"></span></p>\n<p>web.xml的配置</p>\n<pre><code><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app version=\"2.4\"\n         xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\">\n    <context-param>\n        <param-name>contextConfigLocation</param-name>\n        <param-value>classpath:applicationContext.xml</param-value>\n    </context-param>\n    <!--spring监听器-->\n    <listener>\n        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n    </listener>\n    <!-- 处理POST提交乱码问题 -->\n    <filter>\n        <filter-name>encoding</filter-name>\n        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>UTF-8</param-value>\n        </init-param>\n    </filter>\n\n    <filter-mapping>\n        <filter-name>encoding</filter-name>\n        <url-pattern>*.action</url-pattern>\n    </filter-mapping>\n\n    <servlet>\n        <servlet-name>springmvc</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n        <!--默认找的是web-info下的springmvc-xml配置文件-->\n        <init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath:springmvc.xml</param-value>\n        </init-param>\n        <!--Tomcat启动就实例化-->\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n    <!--注意，/*连jsp页面都会拦截，会全部拦截，不建议使用-->\n    <!--强烈建议使用/,不会拦截静态页面-->\n    <servlet-mapping>\n        <servlet-name>springmvc</servlet-name>\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n</web-app></code></pre>\n<p>想了半天没想明白是那里错了问题，scope失效了还是说spring_mvc里的对象只能是单例的？求好心人解答，不胜感激</p>\n<p>补充：看到解答里有人说设置类为多例的，于是打上了注解试了下，我是这么配的</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oi5?w=1390&h=648\"></span><br>然后我在BaseDict类里配置了多例注解</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oi6?w=1044&h=537\"></span></p>\n<p>之后通过打印BaseDictExample的内存地址发现地址仍然是一样的，我甚至把controller都打上注解了，类似于这样</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4ojh?w=1637&h=672\"></span></p>\n<p>仍然不好使，对象的内存地址一致，，，该如何解决？</p>","answer":["<p>不知你的<code>@Autowiered</code>在那个类里用的, 如果是在<code>controller</code>里, 关键在于<strong>controller是单例的</strong>, 里有的所有fields自然也都是单例的, 所以你那个bean怎么设都不会有啥影响.</p>\n<p><strong>EDITED</strong></p>\n<p>如果一定要做成多例的,可以参考<br><a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/beans.html#beans-factory-scopes-other-injection\">4.5.4.5 Scoped beans as dependencies</a><br>需要在配置beans时加上作用域代理</p>\n<pre><code><!-- an HTTP Session-scoped bean exposed as a proxy -->\n<bean id=\"baseDictExample\" class=\"com.foo.BaseDictExample\" scope=\"session\">\n\n    <!-- instructs the container to proxy the surrounding bean -->\n    <aop:scoped-proxy/>\n</bean></code></pre>\n<p><a href=\"https://stackoverflow.com/questions/11139571/scope-of-a-spring-controller-and-its-instance-variables\">https://stackoverflow.com/que...</a></p>","<p>是因为你的service是单例模式的.并不会因为你的调用次数而改变service里注入的成员变量!<br>你可以将service设置为多例模式,在service类上加注解 @Scope(\"prototype\"),不过不建议你这么做,你就会发现base是不同的了</p>","<p>你想要的多例是需要每次request都新建一个实例吗？如果这样的话你应该 scope=\"request\".</p>","<h2>第一次回答：</h2>\n<p>指向的是一个地址，指向的是这个属性的地址，你调用三次，难道你打印的不是这个地址吗！明显你访问的是同一个属性。。。。而且spring mvc 默认是单例模式</p>\n<hr>\n<h2>第二次回答：</h2>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oUn?w=600&h=306\"></span></p>\n<p>是否是这里加错了，把这个删除了试试，我没有试过除了在controller加@scope(\"protetype\")，而且我搜了一下百度，搜到的全是在controller加@scope(\"protetype\")，所以你把这个删除了试试看</p>","<p>在使用@Autowiered注入BaseDictExample的类上加上@Scope(\"prototype\")即可</p>"]},{"title":"webpack打包图片路径配置问题","tags":["react.js","webpack"],"content":"<p>我的项目打包之后的dist目录</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4hQj?w=251&h=155\"></span></p>\n<p>1、css目录下的css文件有背景图片 <code>background-image: url('../images/XXX');</code></p>\n<p>2、React 代码中也有图片 <code><img src={require(\"./images/XXX.jpg\")}/></code></p>\n<p>注：由于我项目的架构，上面两个images不是同一个文件夹。</p>\n<p>问题是：<br>我打包之后把所有图片都放在了images目录下<br>那么前面两种情况访问images中的图片路径会不一样</p>\n<p>1、<code>../images/XXX.jpg</code><br>2、<code>images/XXX.jpg</code></p>\n<p>那么我在webpack的配置文件中要如何配置？</p>\n<pre><code>test: /\\.(png|gif|jpg|jpeg|bmp)$/i,\nuse: {\n  loader: 'url-loader',\n  options: {\n    limit: '8192',\n    outputPath: 'images/'\n  }\n}</code></pre>","answer":["<p>把图片路径设置为从根目录开始<br>你试一下：</p>\n<pre><code>test: /\\.(png|gif|jpg|jpeg|bmp)$/i,\nuse: {\n  loader: 'url-loader',\n  options: {\n    limit: '8192',\n    outputPath: 'images/',\n    publicPath : '/images'\n  }\n}</code></pre>\n<p>加上这个publicPath</p>","<p>既然你用了 <code>url-loader</code> 那么你应该知道如果文件字节超过 <code>limit</code> 值会是什么结果。简单来说，大小超过 limit 值的资源会被复制到输出目录，然后重写引用路径。这时候你可以用 <code>publicPath</code> 给资源定义重写后的基本路径，跟 <code>output.publicPath</code> 的意义类似。而 <code>outputPath</code> 中的值如果是相对路径则是在 dist 为父级目录的基础上进行配置。</p>\n<p>所以 <code>loader</code> 配置是这样的：</p>\n<pre><code>{\n    test: /\\.(png|gif|jpg|jpeg|bmp)$/i,\n    use: {\n      loader: 'url-loader',\n      options: {\n        limit: '8192',\n        outputPath: 'images/',\n        publicPath: '/dist/images/'\n      }\n    }\n}</code></pre>\n<p>资源会被输出到 dist/images 目录中，引用地址被重写为：</p>\n<pre><code>background-image: url('/dist/images/images/XXX');</code></pre>"]},{"title":"JS中parseInt();解析八进制问题","tags":["javascript"],"content":"<p>看例子：<br>parseInt(\"08\", 8); // 0 为什么？<br>看相关资料说\"08\"中的8不是合法（合法8进制应该是0~7）的8进制数。所以返回0，<br>那么其他进制举例如下：<br>parseInt(\"2\",2) // NaN 这里“2”也是非法的2进制数（合法2进制是0~1），但是此处是NaN，<br>parseInt(\"3\",3) // NaN 这里“3”也是非法的3进制数（合法3进制是0~2），但是此处是NaN，<br>针对这种非法进制数，好像只有8进制是返回0，其他进制都是返回NaN，这是为什么，是特例吗？是规定吗？望各路大神指点，谢谢。。。</p>","answer":["<p>只有字符串中的第一个数字会被返回。</p>\n<p><a href=\"http://www.w3school.com.cn/jsref/jsref_parseInt.asp\">parseInt() W3C教程</a></p>","<p>parseInt(\"02\",2) <br>2在2进制不和发 但0是合法的 所以忽略2保留0<br>同parseInt(\"5m\") 返回5一样</p>","<p>这种一般直接去看<code>js</code>的规范比较好，<a href=\"http://www.ecma-international.org/ecma-262/7.0/#sec-parseint-string-radix\">es7 parseInt</a></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4psS?w=1324&h=765\"></span></p>\n<p>我们可以分析一下<code>parseInt('08', 8)</code>和<code>parseInt('8', 8)</code><br><code>parseInt('08', 8)</code>：</p>\n<pre><code>1. inputString = '08'\n2. s = '08'\n3. sign = 1\n4. 不变\n5. 不变\n6. R = 8\n7. stripPrefix = true\n8. stripPrefix = false\n9. 不变\n10. 不变\n11. Z = '0' // 因为8不是有效字符，所以被去掉\n12. 不变 // Z不为空\n13. mathInt = 0\n14. return +0</code></pre>\n<p><code>parseInt('8', 8)</code>:</p>\n<pre><code>1. inputString = '8'\n2. s = '8'\n3. sign = 1\n4. 不变\n5. 不变\n6. R = 8\n7. stripPrefix = true\n8. stripPrefix = false\n9. 不变\n10. 不变\n11. Z = '' // 因为8不是有效字符，所以被去掉\n12. return NaN // 因为此时Z变为空字符串，所以返回了NaN</code></pre>\n<p>所以，<code>parseInt('08', 8)</code>和<code>parseInt('8', 8)</code>的区别在于<code>'08'</code>去掉非法字符后变成了<code>'0'</code>，而<code>'8'</code>去掉非法字符后变成了<code>''</code>，导致第12步的时候第二个返回了<code>NaN</code>。<br>这种东西没有为什么，其实就是规定，规定说了按照一系列的步骤去得到结果，不管你看着结果有多么不合理，但是只要是按照规定执行的结果，那就是合理的结果。所以遇到类似的问题，最好的方法就是去找规范，看看规范是怎么定义的。</p>","<p>parseInt(target:string, radix:number = 10)</p>\n<p>注：es5以后这个函数不在自动解析八进制的字面量格式，必须指明第二个参数为8</p>\n<p>工作原理：从字符串的开头进行扫描，跳过空格直到第一个合法的字符，到第一个不合法字符结束（不包含这个不合法字符），这之间的部分进行解析</p>\n<p>\"08\"以8进制进行解析，第一个合法字符是\"0\"，第一个不合法字符是\"8\"，所以以8进制解析\"0\"结果是0</p>\n<p>\"8\"以8进制进行解析，直接是不合法字符\"8\"，不能解析则返回NaN</p>"]},{"title":"js怎么实现多条件筛选出符合的数据（仿sql多字段查找）","tags":["java","php","javascript"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mFi?w=1054&h=875\"></span></p>\n<pre><code>var conditionArr=[{\n        name:'广州',\n        type:'area'\n    },{\n        name:'一本',\n        type:'batch'\n    }];\n\n    var dataArr=[{\n        name:'广州大学1',\n        area:'广州',\n        batch:'一本'\n    },{\n        name:'广州大学2',\n        area:'广州',\n        batch:'一本'\n    },{\n        name:'广州大学3',\n        area:'深圳',\n        batch:'一本'\n    },{\n        name:'广州大学4',\n        area:'深圳',\n        batch:'二本'\n    },{\n        name:'广州大学5',\n        area:'广州',\n        batch:'二本'\n    },{\n        name:'广州大学6',\n        area:'广州',\n        batch:'二本'\n    }];\n\n    // conditionArr是筛选的条件（动态变化的），当conditionArr多一个数组时，dataArr中的每个对象就会多一个属性【此处简化属性，刚开始就有对应值】\n\n    var temp=[];\n\n    for(var i=0;i<dataArr.length;i++){\n\n        for(var j=0;j<conditionArr.length;j++){\n\n            if (dataArr[i][conditionArr[j].type] === conditionArr[j].name){\n\n                temp.push(schoolList[i]);\n            }\n\n        }\n    }\n\n    // 当conditionArr一个数组(一个条件)时没有问题，两个以上就是叠加数据了\n    console.log(temp);</code></pre>","answer":["<pre><code>function deleteData(name) {\n    var persons = conditionArr;\n    for (var i = 0; i < persons.length; i++) {\n        var cur_person = persons[i];\n        if (cur_person.name== name) {\n            //push\n        }\n    }\n}</code></pre>","<p>也许你可以考虑underscore.js行不行</p>","<pre><code>var temp=[],bool; \nfor(var i=0;i<dataArr.length;i++){ \n  bool = true\n  for(var j=0;j<conditionArr.length;j++){ \n    if (dataArr[i][conditionArr[j].type] !== conditionArr[j].name){ \n      bool = false; \n    } \n  } \n  bool && temp.push(dataArr[i])\n} \nconsole.log(temp);</code></pre>","<pre><code class=\"javascript\">let result = dataArr.filter(data => \n    conditionArr.map(condition => data[condition['type']] === condition['name']\n        .indexOf(false) === -1\n)\n// \"[{\"name\":\"广州大学1\",\"area\":\"广州\",\"batch\":\"一本\"},\n//   {\"name\":\"广州大学2\",\"area\":\"广州\",\"batch\":\"一本\"}]\"</code></pre>\n<p>内部对条件数组进行一个映射：规则是 <code>data[condition['type']] === condition['name']</code>。</p>\n<p>此时如果正在遍历到</p>\n<pre><code class=\"javasctipt\">{\n    name:'广州大学1',\n    area:'广州',\n    batch:'一本'\n}</code></pre>\n<p><code>conditionArr</code> 就变成了：</p>\n<pre><code class=\"javascript\">[ true, true ]</code></pre>\n<p>如果是</p>\n<pre><code class=\"javascript\">{\n    name:'广州大学3',\n    area:'深圳',\n    batch:'一本'\n}</code></pre>\n<p>那么 <code>conditionArr</code> 就变成了：</p>\n<pre><code class=\"javascript\">[ false, true ]</code></pre>\n<p>所以只需要对每一个学校进行一次条件数组的映射，如果映射结果有 <code>false</code>，就说明有条件不满足，反之就是满足所有条件。</p>\n<p>根据这个再对 <code>dataArr</code> 进行一次过滤即可。</p>"]},{"title":"vue wapapp的子路由，手机自带的返回键只能返回上一个路由，怎么直接返回父路由？","tags":["vue-router","vue.js"],"content":"<p>![clipboard.<br>![clipboard.<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mGM?w=1080&h=1920\"></span><br>mGK)<br>mGJ)</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mGK?w=1080&h=1920\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mGJ?w=1080&h=1920\"></span></p>\n<p>第一张图里面，点击进详情页，里面有四个路由，上面是父路由，下面三个切换各一个路由，现在的问题是，我点击选集（从 图2 到图 3），但是我用安卓手机自带的返回键点击，只能重图2 变回 图1 ，就是返回到上一个子路由了，我想直接返回到图1，请问大家是怎么实现的</p>","answer":["<p>1.两种方法,一是vue-router封装的方法,直接在绑定的事件里用this.$router.push({path:'/图一对应的路由'})<br>2.原生方法:window.open(location.origin+'图一对应完整的路由')<br>3.希望可以帮到你</p>","<p>参考“监听手机按键”。<br>地址：<a href=\"http://blog.csdn.net/jiaweihaoku/article/details/79024018\">安卓与Vue交互</a></p>"]},{"title":"Android，service向broadCastReceiver传递数据为null","tags":["android相关问题","android-sdk","android-studio","android"],"content":"<p>在service中设置了一个闹钟，会通过intent传递一些数据启动BroadCastReceiver，receiver中取到数据，在通知栏显示notification</p>\n<p>Service代码</p>\n<pre><code>public class RemindService extends Service {\n\n    List<Remind> reminds;\n\n    public RemindService() {\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        String remindsStr = intent.getStringExtra(\"reminds\");\n        reminds = JSON.parseArray(remindsStr, Remind.class);\n        AlarmManager manager = (AlarmManager) getSystemService(ALARM_SERVICE);\n        for (Remind remind : reminds) {\n            Intent intent1 = new Intent(getApplicationContext(), RemindReceiver.class);\n            intent.putExtra(\"content\", remind.getTitle());\n            PendingIntent pi = PendingIntent.getBroadcast(getApplicationContext(), 0, intent1, 0);\n            if (remind.getFrequencyType() == Remind.TYPE_ONCE) {\n                manager.setExact(AlarmManager.RTC_WAKEUP, getAlarmTimeByRemind(remind), pi);\n            } else {\n                ...\n            }\n        }\n        return super.onStartCommand(intent, flags, startId);\n    }</code></pre>\n<p>BroadCastReceiver代码：</p>\n<pre><code>public class RemindReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        LogUtil.d(\"content:\" + intent.getStringExtra(\"content\")); //此处获取的context为null\n        \n        NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        Notification notification = new Notification.Builder(context)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentTitle(\"title\")\n                .setContentText(intent.getStringExtra(\"content\"))\n                .setWhen(System.currentTimeMillis())\n                .setAutoCancel(true)\n                .build();\n        manager.notify(1, notification);\n</code></pre>\n<p>这是AndroidManifest.xml</p>\n<pre><code>    <application\n        android:name=\".util.TApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/app_icon\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\">\n        \n        ... //一些activity\n        \n        <service\n            android:name=\".service.RemindService\"\n            android:enabled=\"true\"\n            android:exported=\"false\" />\n\n        <receiver\n            android:name=\".receiver.RemindReceiver\"\n            android:enabled=\"true\"\n            android:exported=\"false\"/>\n    </application></code></pre>\n<p>调试了半天不知道为什么。在Service的for循环中是remind.getTitle()有值的，调试时看到了。</p>","answer":["<pre><code>Intent intent1 = new Intent(getApplicationContext(), RemindReceiver.class);\nintent.putExtra**(\"content\", remind.getTitle());\nPendingIntent pi = PendingIntent.getBroadcast(getApplicationContext(), 0, intent1, 0);\n\nintent1 intent\n            \n            </code></pre>"]},{"title":"pm2 启动vue问题","tags":["node.js","vue.js","pm2"],"content":"<p>我想用pm2启动vue，我看教程上说</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nfe?w=898&h=346\"></span><br>但是我的build文件夹下面是</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nfv?w=277&h=259\"></span></p>\n<p>我应该怎样启动呢</p>","answer":["<p>你的 dev-server.js 文件呢，被你删了吗。。。</p>\n<p>重新找一个放在下面吧</p>","<p>看你package.json中的配置路径</p>","<p>你大概新建项目时候用的是 webpack-dev-server吧。如果用pm2 就不用这个了</p>"]},{"title":"antd单选框Radio问题","tags":["antd","antdesign","react.js"],"content":"<p>用到了antd的Radio单选框出了点问题，页面初始化表格数据第一条是默认不选上，第二条第三条分别默认选上第二个跟第一个，当我点击页面上 “请求新数据” 按钮时，页面重新setState了一次，表格第一条第三个默认正常选上，第二条不选上，但给我选上了，这个问题就来了，打断点发现checked这个值是false的，不知道为什么还选上</p>\n<p>下面接口格式是根据后台请求回来的格式模拟的，代码不多，用到了antd的Table</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lJJ?w=1048&h=289\"></span></p>\n<pre><code>import React, {Component, PropTypes} from 'react';\nimport { Tabs, DatePicker, Radio, Table, Select } from 'antd';\nconst RadioGroup = Radio.Group;\nconst getUserName = \"张三\";\n\nclass Radios extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentWillMount() {\n    this.initRequest();\n  }\n  initRequest = ()=> {\n    let data = [{\n        key: 1,\n        RQ: '20180805',\n        CODE: '55199106.RQ',\n        STATE: '{\"a\":[],\"b\":[],\"c\":[]}',\n      },{\n        key: 2,\n        RQ: '20180505',\n        CODE: '55199106.RQ',\n        STATE: '{\"a\":[],\"b\":[\"张三\"],\"c\":[]}',\n      },{\n        key: 3,\n        RQ: '20180115',\n        CODE: '55199106.RQ',\n        STATE: '{\"a\":[\"张三\"],\"b\":[],\"c\":[]}',\n      }];\n      this.setState({ initData: data });\n  }\n  requestData =() => {\n    let data = [{\n      key: 1,\n      RQ: '20180805',\n      CODE: '55199106.RQ',\n      STATE: '{\"a\":[\"\"],\"b\":[],\"c\":[\"张三\"]}',\n    },{\n      key: 2,\n      RQ: '20180505',\n      CODE: '55199106.RQ',\n      STATE: '{\"b\":[],\"a\":[],\"c\":[]}',\n    },{\n      key: 3,\n      RQ: '20180805',\n      CODE: '55199106.RQ',\n      STATE: '{\"a\":[\"\"],\"b\":[\"\"],\"c\":[\"张三\"]}',\n    }];\n    this.setState({ initData: data });\n  }\n  render() {\n    const data = this.state.initData;\n    let { sortedInfo, filteredInfo } = this.state;\n    sortedInfo = sortedInfo || {};\n    filteredInfo = filteredInfo || {};\n    const columns = [\n      {\n        title: '日期',\n        dataIndex: 'RQ',\n        key: 'RQ',\n        width: 120,\n        filteredValue: filteredInfo.RQ || null,\n        onFilter: (value, record) => record.RQ.includes(value),\n        sorter: (a, b) => a.RQ.length - b.RQ.length,\n        sortOrder: sortedInfo.columnKey === 'RQ' && sortedInfo.order,\n      }, {\n        title: '代码',\n        dataIndex: 'CODE',\n        key: 'CODE',\n        width: 168,\n        sorter: (a, b) => a.CODE - b.CODE,\n        sortOrder: sortedInfo.columnKey === 'CODE' && sortedInfo.order,\n      }, {\n        title: '投票',\n        width: 1165,\n        render: (text, data, index) => {\n          let userName = text.STATE ? JSON.parse(text.STATE) : '',userNames = '';\n          if (userName) {\n            if (userName.a) {\n              for (let i = 0; i < userName.a.length; i++) {\n                if (userName.a[i] === getUserName) {\n                  userNames = '100%造假';\n                }\n              }\n            }\n            if (userName.b) {\n              for (let j = 0; j < userName.b.length; j++) {\n                if (userName.b[j] === getUserName) {\n                  userNames = '大概率';\n                }\n              }\n            }\n            if (userName.c) {\n              for (let k = 0; k < userName.c.length; k++) {\n                if (userName.c[k] === getUserName) {\n                  userNames = '小概率';\n                }\n              }\n            }\n          }\n          return (\n            <div>\n              <RadioGroup onChange={this.RadioGroup}>\n                <Radio checked={ userNames == \"100%造假\" ? true : false } value=\"0\">100%造假</Radio>\n                <Radio checked={ userNames == \"大概率\" ? true : false } value=\"1\">大概率</Radio>\n                <Radio checked={ userNames == \"小概率\" ? true : false } value=\"2\">小概率</Radio>\n              </RadioGroup>\n            </div>\n          );\n        },\n      }];\n    return (\n      <div>\n        <button onClick={this.requestData}>请求新数据</button>\n        <Table scroll={{ x: true, y: 500 }} pagination={{ showQuickJumper: true, pageSize: 100 }} columns={columns} dataSource={data} onChange={this.handleChange} />\n      </div>\n    );\n  }\n\n  RadioGroup =(e) => {\n    console.log(e.target.value);\n  }\n}\nexport default Radios;\n</code></pre>","answer":["<p>目测好像是key的问题。</p>","<p>你的table没设置rowKey</p>","<p>你这文档都没看完，就写代码了，差评。</p>\n<pre><code class=\"js\"><RadioGroup onChange={this.onChange} value={this.state.value}>\n        <Radio value={1}>A</Radio>\n        <Radio value={2}>B</Radio>\n        <Radio value={3}>C</Radio>\n        <Radio value={4}>D</Radio>\n      </RadioGroup></code></pre>\n<p>这个才是RadioGroup的用法,丛植RadioGroup的value值就可以了。</p>\n<p>然后不得不说，代码写的比较丑，但是给的例子可以直接跑起来，这点不错。<br>丑指的这里</p>\n<pre><code>if (userName) {\n                        if (userName.a) {\n                            for (let i = 0; i < userName.a.length; i++) {\n                                if (userName.a[i] === getUserName) {\n                                    userNames = '100%造假';\n                                }\n                            }\n                        }\n                        if (userName.b) {\n                            for (let j = 0; j < userName.b.length; j++) {\n                                if (userName.b[j] === getUserName) {\n                                    userNames = '大概率';\n                                }\n                            }\n                        }\n                        if (userName.c) {\n                            for (let k = 0; k < userName.c.length; k++) {\n                                if (userName.c[k] === getUserName) {\n                                    userNames = '小概率';\n                                }\n                            }\n                        }\n                    }</code></pre>\n<p>稍微修改了一下</p>\n<pre><code class=\"js\">import React, { Component, PropTypes } from 'react';\nimport { Tabs, DatePicker, Radio, Table, Select } from 'antd';\nconst RadioGroup = Radio.Group;\nconst getUserName = \"张三\";\nconst map = {\n    a: 0,\n    b: 1,\n    c: 2,\n    default: 9999\n}\nclass Radios extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    componentWillMount() {\n        this.initRequest();\n    }\n    initRequest = () => {\n        let data = [{\n            key: 1,\n            RQ: '20180805',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[],\"b\":[],\"c\":[]}',\n        }, {\n            key: 2,\n            RQ: '20180505',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[],\"b\":[\"张三\"],\"c\":[]}',\n        }, {\n            key: 3,\n            RQ: '20180115',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[\"张三\"],\"b\":[],\"c\":[]}',\n        }];\n        this.setState({ initData: data });\n    }\n    requestData = () => {\n        let data = [{\n            key: 1,\n            RQ: '20180805',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[\"\"],\"b\":[],\"c\":[\"张三\"]}',\n        }, {\n            key: 2,\n            RQ: '20180505',\n            CODE: '55199106.RQ',\n            STATE: '{\"b\":[],\"a\":[],\"c\":[]}',\n        }, {\n            key: 3,\n            RQ: '20180805',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[\"\"],\"b\":[\"\"],\"c\":[\"张三\"]}',\n        }];\n        this.setState({ initData: data });\n    }\n    render() {\n        const data = this.state.initData;\n        let { sortedInfo, filteredInfo } = this.state;\n        sortedInfo = sortedInfo || {};\n        filteredInfo = filteredInfo || {};\n        const columns = [\n            {\n                title: '日期',\n                dataIndex: 'RQ',\n                key: 'RQ',\n                width: 120,\n                filteredValue: filteredInfo.RQ || null,\n                onFilter: (value, record) => record.RQ.includes(value),\n                sorter: (a, b) => a.RQ.length - b.RQ.length,\n                sortOrder: sortedInfo.columnKey === 'RQ' && sortedInfo.order,\n            }, {\n                title: '代码',\n                dataIndex: 'CODE',\n                key: 'CODE',\n                width: 168,\n                sorter: (a, b) => a.CODE - b.CODE,\n                sortOrder: sortedInfo.columnKey === 'CODE' && sortedInfo.order,\n            }, {\n                title: '投票',\n                width: 1165,\n                render: (text, data, index) => {\n                    \n                    // 解析数据\n                    let userName = text.STATE ? JSON.parse(text.STATE) : '', userNames = '';\n\n                    // 设置默认显示值\n                    let value = map.default;\n                    // 获取选中value，可以提成方法\n                    for (let variable in userName) {\n                        if (userName[variable].some((item) => item === getUserName )) {\n                            value = map[variable];\n                            break;\n                        }\n                    }\n\n                    return (\n                        <div>\n                            <RadioGroup value={value} onChange={this.RadioGroup}>\n                                <Radio  value={map.a}>100%造假</Radio>\n                                <Radio  value={map.b}>大概率</Radio>\n                                <Radio  value={map.c}>小概率</Radio>\n                            </RadioGroup>\n                        </div>\n                    );\n                },\n            }];\n        return (\n            <div>\n                <button onClick={this.requestData}>请求新数据</button>\n                <Table scroll={{ x: true, y: 500 }} pagination={{ showQuickJumper: true, pageSize: 100 }} columns={columns} dataSource={data} onChange={this.handleChange} />\n            </div>\n        );\n    }\n\n    RadioGroup = (e) => {\n        console.log(e.target.value);\n    }\n}\nexport default Radios;\n</code></pre>\n<p>===补充内容==<br>那个本来应该你自己来实现的，只是指出问题。</p>\n<pre><code class=\"js\">import React, { Component, PropTypes } from 'react';\nimport { Tabs, DatePicker, Radio, Table, Select } from 'antd';\nconst RadioGroup = Radio.Group;\nconst getUserName = \"张三\";\nconst map = {\n    a: 'a',\n    b: 'b',\n    c: 'c',\n}\nclass Radios extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    componentWillMount() {\n        this.initRequest();\n    }\n\n    getStateFromoData (data) {\n        const { STATE } = data;\n        return data.map((item) => {\n            const parseState = JSON.parse(item.STATE) || {};\n\n            item.STATE = \"\";\n\n            for(let key in parseState) {\n                if(parseState[key].some((item) => {return item === getUserName})) {\n                    item.STATE = key;\n                }\n            }\n\n            return item;\n        })\n    }\n    initRequest = () => {\n        let data = [{\n            key: 1,\n            RQ: '20180805',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[],\"b\":[],\"c\":[]}',\n        }, {\n            key: 2,\n            RQ: '20180505',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[],\"b\":[\"张三\"],\"c\":[]}',\n        }, {\n            key: 3,\n            RQ: '20180115',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[\"张三\"],\"b\":[],\"c\":[]}',\n        }];\n        this.setState({ initData: this.getStateFromoData(data) });\n    }\n\n    requestData = () => {\n        let data = [{\n            key: 1,\n            RQ: '20180805',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[\"\"],\"b\":[],\"c\":[\"张三\"]}',\n        }, {\n            key: 2,\n            RQ: '20180505',\n            CODE: '55199106.RQ',\n            STATE: '{\"b\":[],\"a\":[],\"c\":[]}',\n        }, {\n            key: 3,\n            RQ: '20180805',\n            CODE: '55199106.RQ',\n            STATE: '{\"a\":[\"\"],\"b\":[\"\"],\"c\":[\"张三\"]}',\n        }];\n        this.setState({ initData: this.getStateFromoData(data) });\n    }\n    render() {\n        const data = this.state.initData;\n        let { sortedInfo, filteredInfo } = this.state;\n        sortedInfo = sortedInfo || {};\n        filteredInfo = filteredInfo || {};\n        const columns = [\n            {\n                title: '日期',\n                dataIndex: 'RQ',\n                key: 'RQ',\n                width: 120,\n                filteredValue: filteredInfo.RQ || null,\n                onFilter: (value, record) => record.RQ.includes(value),\n                sorter: (a, b) => a.RQ.length - b.RQ.length,\n                sortOrder: sortedInfo.columnKey === 'RQ' && sortedInfo.order,\n            }, {\n                title: '代码',\n                dataIndex: 'CODE',\n                key: 'CODE',\n                width: 168,\n                sorter: (a, b) => a.CODE - b.CODE,\n                sortOrder: sortedInfo.columnKey === 'CODE' && sortedInfo.order,\n            }, {\n                title: '投票',\n                width: 1165,\n                key: 'VOTE',\n                render: (text, data, index) => {\n\n                    return (\n                        <div>\n                            <RadioGroup value={text.STATE} onChange={this.RadioGroup(index)}>\n                                <Radio  value={map.a}>100%造假</Radio>\n                                <Radio  value={map.b}>大概率</Radio>\n                                <Radio  value={map.c}>小概率</Radio>\n                            </RadioGroup>\n                        </div>\n                    );\n                },\n            }];\n        return (\n            <div>\n                <button onClick={this.requestData}>请求新数据</button>\n                <Table scroll={{ x: true, y: 500 }} pagination={{ showQuickJumper: true, pageSize: 100 }} columns={columns} dataSource={data} onChange={this.handleChange} />\n            </div>\n        );\n    }\n\n    RadioGroup = (index) => {\n        return (e) => {\n            // 拷贝数据\n            const copyData = this.state.initData.slice(0)\n            // 修改数据\n            copyData[index].STATE = e.target.value;\n            // 更新状态\n            this.setState({\n                initData: copyData\n            })\n        }\n    }\n}\nexport default Radios;\n\n</code></pre>\n<p>看完好好思考下你之前的代码结构，其实很有问题</p>"]},{"title":"如何编写一个简易的node爬虫获取任意网址的title呢？","tags":["前端工程师","node.js","javascript"],"content":"<p>方法的参数为url 然后 返回值为 title。</p>\n<p>如：</p>\n<pre><code>function getTitle(url){\n .......\n return title\n}\ngetTitle('http://www.baidu.com')  \n\n得到 \"百度\"\n\ngetTIttle('http://www.126.com') \n\n得到 \"网易邮箱\"\n\n</code></pre>\n<p>如下图，如何写一个方法获取任意网址的title呢？</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lTk?w=431&h=67\"></span></p>","answer":["<p>纯前端使用ajax或者iframe都会存在跨域问题。<br>需要服务端进行请求指定地址，获取到地址对应的页面，然后提取出title标签中内容。</p>","<p>使用superagent+cheerio</p>\n<pre><code>superagent.get(url)\n    .end((err, res) => {\n        const $ = cheerio.load(res.text)\n        console.log($('title').text())\n    })</code></pre>","<pre><code>// npm install request\nvar request = require('request');\nrequest('https://www.taobao.com', function (error, response, body) {\n    var array = /<title>(.*)<\\/title>/gi.exec(body);\n    if (array != null) {\n        console.log('title:', array[1]);\n    }\n});</code></pre>","<p>获取任意网址的html页面，获取页面中<title>标签里面的内容。<br>如果想封装成一个方法，那就将不同的功能分别写成函数，依次调用。</p>","<p><span class=\"img-wrap\"><img data-src=\"/img/bV4l2s?w=416&h=53\"></span></p>","<p>需要通过ajax获取指定url的页面内容,然后再从中分析出其标题</p>","<p>任意是做不到的，因为有的网站对<code>cookie</code>有要求，不符合的话是直接<code>403</code>的。</p>\n<p>对于没有验证要求的网站，最基本的使用<code>http.get</code>获取<code>html</code>再解析即可。解析可以用正则或者<code>cheerio</code></p>"]},{"title":"关于webpack打包问题","tags":["webpack"],"content":"<p>今天学习了一下react，跟着视频做了一个小demo,在进行webpack -w打包的时候,发生了一个错误。删除了node_modules文件重新下载loader之后还是报同样的错误。求解。<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mtH?w=621&h=136\"></span></p>","answer":["<p>...好好读一下它给出的提示</p>","<p><code>npm install webpack-cli -g</code></p>","<p>emmm...提示已经给出；</p>\n<pre><code>npm install webpack-cli -D</code></pre>"]},{"title":"element ui table 过滤表格内的数据的问题","tags":["element-ui","vue.js"],"content":"<p>我使用element ui tabel的组件</p>\n<pre><code><el-table :data=\"barrelList\" style=\"width: 100%\">\n    <el-table-column\n        prop=\"workingState\"\n        label=\"工作状态\">\n      </el-table-column>\n</el-table></code></pre>\n<pre><code>const workingState = [\n    { key: '1', display_name: '状态11' },\n    { key: '2', display_name: '状态22' },\n    { key: '4', display_name: '状态55' },\n    { key: '8', display_name: '状态33' },\n    { key: '10', display_name: '状态44' }\n  ]\n\n  const workingStateValue = workingState.reduce((acc, cur) => {\n    acc[cur.key] = cur.display_name\n    return acc\n  }, {})\n\nfilters: {\n      workingFilter(type) {\n        return workingStateValue[type]\n      }\n    },</code></pre>\n<p>我希望通过workingFilter的过滤去过滤表格内的数据，但我这样处理时：</p>\n<pre><code><el-table :data=\"barrelList\" style=\"width: 100%\">\n    <el-table-column\n        prop=\"workingState | workingFilter\"\n        label=\"工作状态\">\n      </el-table-column>\n</el-table></code></pre>\n<p>是没有效果的，能有什么解决方案吗</p>","answer":["<p>过滤数据用 computed 计算属性来实现</p>\n<p>| 不是这样用的</p>","<p><a href=\"https://cn.vuejs.org/v2/guide/filters.html\">过滤器可以用在两个地方：双花括号插值和 v-bind 表达式 (后者从 2.1.0+ 开始支持)。</a>,作为<code>prop</code>属性值，显然没有效果。</p>\n<p><code>prop</code>的属性值，应该对应barrelList里面相应属性名。这里过滤应该没什么效果。</p>\n<p>可以在 <code>el-table-column</code>上使用 filter-method 属性，绑定一个回调函数，进行每列数据过滤。</p>"]},{"title":"这是什么情况？php报错1045","tags":["php"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nrf?w=1619&h=139\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nrj?w=1726&h=240\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nrk?w=865&h=638\"></span></p>\n<p>root登录无问题 <br>下面的数据库也没问题登录  为啥这个登录就有问题 <br>代码如下：求大神解答   百度了一个小时  没解决</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nrL?w=1097&h=506\"></span></p>","answer":["<p>用户名，主机和密码的组合不允许连接到服务器。 验证服务器上的权限表（重新加载授权）<code>flush privileges;</code>，并且连接到正确的服务器。</p>","<p>连接数据库的账号密码错误，或者该账号禁止localhost登录</p>"]},{"title":"在vuex的store里获取的数据如何做分类处理，并添加属性","tags":["vuex","vue.js","javascript"],"content":"<h3>我在 vuex中请求到的数据：</h3>\n<pre><code>data: [\n    {\n    id: 1,\n    play_alias: 'basketball', // 商品简称\n    play_type: '001', // 玩法\n    order_status: 1, // 0.待支付; 1.支付成功,待出票; 2.出票成功,待开奖; 3.出票失败,待退款, 4.已退款, 5.未中奖, 6.已中奖\n    show_status: 1,  // 显示状态; 0,不显示（用户删除）, 1,显示\n    \n    },\n    {\n    id: 2,\n    play_alias: 'football'\n    play_type: '003',\n    order_status: 4,\n    show_status: 1,\n    }\n]</code></pre>\n<h3>需要这样展示：</h3>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mKa?w=588&h=243\"></span></p>\n<h3>问题：</h3>\n<ol>\n<li>根据<strong>show_status</strong>判断是否显示；</li>\n<li>根据<strong>order_status</strong>分类，中奖、待开奖、未开奖；</li>\n<li>根据<strong>play_alias</strong>添加固定的中文名(我的想法是根据<strong>play_alias</strong>添加一个<strong>play_name</strong>属性，然后直接渲染<strong>play_name</strong>上去就好了)</li>\n</ol>","answer":["<p>其实就是数据的过滤，转化</p>\n<pre><code>//html\n<ul>\n <li v-for=\"(item,index) in data\" :key=\"index\" v-if=\"item.show_status\">\n     <span>{{item.play_type}}</span>\n     <span>{{getName(item.play_alias)}}</span>\n     <span>{{getStatus(item.order_status)}}</span>\n </li>\n</ul>\n\n//js\nmethods:{\n getName(text){\n     switch(text){\n         case 'basketball':return '篮球';\n         case 'football':return '足球';\n         default : return \"未知\"\n     }\n },\n getStatus(text){\n     switch(text){\n         case 0:return '待支付';\n         case 1:return '支付成功,待出票';\n         case 2:return '出票成功,待开奖';\n         case 3:return '出票失败,待退款';\n         case 4:return '已退款';\n         case 5:return '未中奖';\n         case 6:return '已中奖';\n         default : return \"未知\"\n     }\n },\n}</code></pre>","<p>1.可以在组件里加filter，具体怎么用可以看vue的文档，有专门的filter讲解（不鼓励做伸手党，看文档能学到更多的东西<br>2.差值表达式可以执行简单的js代码，分支过多还是算了。或者在请求返回交给state之前处理掉<br>3.如果中文名称与play_alias字段的映射关系不想维护在前端可以增加一个字段，否则也可以用第二条，在返回后交给state之前处理掉</p>","<p>1.一般这个可以让后台把返回值修改一下,<br>2.你也可以前端在返回来的值用comouted做一个处理,<br>3.还可以定义一个过滤器处理对应返回的值</p>\n<pre><code>Vue.filter(\"formatAlias\",function(playalias){\n  if(playalias=='basketball'){\n      playalias==\"篮彩\"\n  }\n})</code></pre>"]},{"title":"不改变内存限制用递归实现斐波拉契","tags":["php","javascript"],"content":"<p>实现斐波拉契数列，在用php中用递归的时候会出现超过限制内存的错误提醒。<br>es6里面有尾递归优化，php里面有什么优化的方式么？</p>\n<p>先贴两种网上找到的解决方案，<br>第一种：<a href=\"http://blog.csdn.net/h330531987/article/details/76216575\">http://blog.csdn.net/h3305319...</a><br>第二种：<a href=\"https://www.cnblogs.com/zhenbianshu/p/4926090.html\">https://www.cnblogs.com/zhenb...</a>   <br>第一种利用高阶函数回调方式经过试验还是不可以，不过第二种方案在实现过程中还是可以满足的。<br>如下图：</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nqQ?w=984&h=397\"></span></p>\n<p>好的 那么问题来了，  <br>如何解决不改变内存限制，利用递归实现？  <br>第一种方案为何不行？  <br>第二种为什么又可以了？？</p>","answer":["<p>第二种方案使用全局变量<code>$cache</code>作为缓存，所以再递归中每一个n对应的值只计算一遍，事实上计算<code>fib(x)</code>只会调用<code>x</code>次函数，可以在很快的时间和很小的栈空间使用下完成。</p>","<p>可以使用 <code>yield</code> 协程调用来实现</p>","<p>//实现斐波拉契数列</p>\n<pre><code>function flist($limit){\n    $pre1 = 1;\n    $pre2 = 1;\n    for ($i=0; $i <$limit ; $i++) {\n        if($i<2){\n            yield 1;\n            continue;\n        }\n        $now = $pre2+$pre1;\n        $pre2 = $pre1;\n        $pre1 = $now;\n        yield $now;\n    }\n}\n\n$flist = flist(10);\nforeach ($flist as $key => $value)\n{\n    echo $value . \"\\n\";\n}</code></pre>"]},{"title":"小白白白白提问，这个函数为什么赋值才有效","tags":["javascript"],"content":"<p>问题：reverse函数内的 “ this.msg= ”为啥去掉就不执行了 ？感觉这里赋值没有什么实际意义啊，后面不是说了this.msg.split(\"\").reverse().join(\"\")嘛</p>\n<p><div class=\"box\"></p>\n<pre><code><p>{{msg}}</p>\n<button v-on:click=\"reverse\">反转</button></code></pre>\n<p></div></p>\n<p><script></p>\n<pre><code>var hua=new Vue({\n    el:\".box\",\n    data:{\n        msg:\"123456789\"\n    },\n    methods:{\n        reverse:function(){\n             this.msg = this.msg.split(\"\").reverse().join(\"\")\n             \n        }\n    }\n\n})     </code></pre>\n<p></script></p>","answer":["<pre><code class=\"javascript\">this.msg.split(\"\").reverse().join(\"\")</code></pre>\n<p>这一句的结果是一个新的 <code>string</code>，原来的 <code>this.msg</code> 并没有改动。</p>","<p>vue在监听data中<code>msg</code>属性，这个属性是基础数据类型数据，值没有改变，或者这个属性是引用类型数据，地址或属性没有发生改变，监听者会跳过，不进行页面更新的。在这里<code>this.msg</code>没有改变。</p>"]},{"title":"RocketMQ生产消息异常(在线等.....)","tags":["java"],"content":"<p><strong><em>首先错误代码如下</em></strong></p>\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nMessage [topic=TopicA, flag=0, properties={KEYS=key, WAIT=true, TAGS=tagA}, body=21]\norg.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [7238]ms, Topic: TopicA, BrokersSent: [broker-a, broker-a, broker-a]\nSee http://rocketmq.apache.org/docs/faq/ for further details.\n    at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:541)\n    at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1058)\n    at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1017)\n    at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:208)\n    at com.alex.rocket.Producer.main(Producer.java:36)\nCaused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <10.0.2.15:10911> failed\n    at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:359)\n    at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageSync(MQClientAPIImpl.java:349)\n    at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessage(MQClientAPIImpl.java:333)\n    at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessage(MQClientAPIImpl.java:296)\n    at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendKernelImpl(DefaultMQProducerImpl.java:693)\n    at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:460)\n    ... 4 more</code></pre>\n<p><strong><em>生产者代码如下</em></strong><br><span class=\"img-wrap\"><img data-src=\"/img/bV4n0P?w=1156&h=577\"></span></p>\n<p><strong><em>broker.log如下</em></strong><br><span class=\"img-wrap\"><img data-src=\"/img/bV4n2b?w=1031&h=557\"></span></p>\n<p><strong><em>nameser.log如下</em></strong><br><span class=\"img-wrap\"><img data-src=\"/img/bV4n1a?w=921&h=573\"></span><br><span class=\"img-wrap\"><img data-src=\"/img/bV4n1c?w=1101&h=377\"></span></p>\n<p><strong><em>broker.conf如下</em></strong><br><span class=\"img-wrap\"><img data-src=\"/img/bV4n1B?w=677&h=390\"></span></p>\n<p><strong><em>在线等....</em></strong></p>","answer":["<p><a href=\"/u/alloctag_57c7e6d667132\">@Avro</a> <strong>是这个东西...很奇怪啊</strong><br><span class=\"img-wrap\"><img data-src=\"/img/bV4qFs?w=647&h=314\"></span></p>"]},{"title":"window10下php的exec执行shell脚本的权限问题","tags":["php"],"content":"<p>本人使用exec执行了以下命令</p>\n<pre><code>$cmd = \"D:\\upupw7\\htdocs\\yelvti\\public/../extend/silk-v3-decoder-master/converter.sh D:\\upupw7\\htdocs\\yelvti\\public/../extend/silk-v3-decoder-master/da.silk wav 2>&1\";\nexec($cmd,$out,$re);\ndump($out);\ndump($re);</code></pre>\n<p>$out为空数组，$re为256。<br>我用cmd直接试了试$cmd里面的代码，结果运行成功，这应该说明了我的shell脚本的没错的？<br>这样我想到的是权限问题<br>我在服务器和本地都用了“whoami”来查看用户，结果服务器（其实也是本机的window系统，不过用了ittun映射了）显示的是“nt authoritysystem”，本地的cmd出来的是desktop-q5mapc1kang（kang为我登录window的用户），用Git Bash的得出来的是kang，也就是说我通过服务器访问这个脚本和我在本地访问这个脚本的用户是不同的，那问题是我怎么让服务器的nt authoritysystem用户也能执行那个脚本，或者怎么让我的服务器使用我的kang用户登录呢？</p>","answer":["<p>给服务器那个用户执行脚本的权限</p>","<p>Windows上放开脚本权限，服务器Linux使用sudo提权搞定权限问题</p>"]},{"title":"爬取 携程国际机票，大家有好的方法吗","tags":["python","网页爬虫","携程"],"content":"<p>1.最近再做爬取携程的国际机票，之前没写过爬虫，边看边学，发现网上有很多爬取携程国内机票的教程，爬取国际机票的很少。<br>2.因为携程是异步加载的并且参数很多，还有动态的参数，看着比较麻烦。所以我现在是用的 selenium来模拟浏览器抓取的。但是效率又太低。大家一般抓取这样的网站采取什么技术或方法，麻烦有了解这方面的指点一下</p>","answer":["<p>刚看了下携程的网址. </p>\n<p>这个url是北京(BJS)到布拉格(PRG) 2018-04-11 当天的全部机票.<br><a href=\"http://flights.ctrip.com/international/FlightResult.aspx?flighttype=D&DCity=BJS&ACity=PRG&relddate=2018-04-11&relrdate=2018-04-11\">http://flights.ctrip.com/inte...</a></p>\n<p>这个url是北京(BJS)到雅典(ATH) 2018-04-03 当天的全部机票.<br><a href=\"http://flights.ctrip.com/international/FlightResult.aspx?flighttype=D&DCity=BJS&ACity=ATH&relddate=2018-04-03&relrdate=2018-04-03\">http://flights.ctrip.com/inte...</a></p>\n<p>两个url只是城市的编号不同. 如果想获取北京到世界各地的机票信息. 只需要拼接下DCity就可以获取到</p>\n<p>想获取 2018-04-012 的机票, 就把日期改一下.<br>这样就获取到了url.然后模拟发起请求,获取请求页面的Document树,在去解析里面的数据.<br>感觉还可以.并不是特别难. 难点就是获取各个城市的标号.<br>另外如果携程有反爬虫,可以用代理ip.这样成功率会高很多.不会被封.</p>","<p><a href=\"/u/kehaoliao\">@可好了</a> 谢谢你的回复，我已经把需要的飞机场代码给爬取到了我是使用的这个地址拼装的<a href=\"http://flights.ctrip.com/international/beijing-bangkok-KMG-DLZ?2018-03-15&y_s\">http://flights.ctrip.com/inte...</a> ，现在的主要是效率，太低。模拟一次请求，需要大概20秒的时间，才能把整个航线的航班数据爬取下来。 多线程的跑selenium 有很多问题。今天在看一下</p>"]},{"title":"max-age无法解决客户端和服务器端时间不一致的问题","tags":["缓存","http","javascript","html5","nginx"],"content":"<p>max-age无法解决客户端和服务器端时间不一致的问题<br>问题是这样的：<br>话说，Cache-Control:max-age=N 的 优先级高于 Expires（现在大多数浏览器都是遵循http1.1）<br>但是我测试的时候，服务器的时间比本地时间慢100s（比如本地的时间戳现在是200s，那么服务器的时间戳是100s）<br>我在Nginx中设置了css的max-age=60，然而发现，我在60s之内再次访问该css资源时，竟然返回304，理论上应该返回200(from cache)才对啊<br>求解，谢谢诸位<br>测试环境：Chrome 64.0.3282.186（正式版本） （64 位）<br>第一次请求：</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oRu?w=1600&h=942\"></span><br>后续请求：</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oRV?w=1602&h=880\"></span></p>\n<p>Nginx配置：</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4oSw?w=710&h=278\"></span></p>","answer":["<p>由服务器与浏览器的时间差引起.</p>\n<p>假设服务器在 A 时间返回内容, 那么返回的 HTTP 头类似这样:</p>\n<pre><code>Date: A\nCache-Control: max-age=60</code></pre>\n<p>可知 css 的有效时间窗口是 A ~ A+60, 浏览器接到时(忽略网络传输等其他耗时)为 A + 100 时间, 它通过计算 <Date> + <max-age> 得知 css 内容已经过期, 因为 A + 100 > A + 60, 因此会重新验证内容(If-Modified-Since, If-None-Match).</p>\n<p>下面是个模拟的 HTTP 服务器, 你可以自由修改返回头去测试浏览器反应</p>\n<pre><code>// 运行模拟服务器:\n//  1. 保存成文件 \"demo-server.go\"\n//  2. 下载 golang, https://golang.org/dl/\n//  3. 打开命令行, 运行 \"go run demo-server.go\"\n//  4. 打开浏览器, 访问 http://localhost:8080/\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"time\"\n)\n\nfunc setHeader(w http.ResponseWriter, h map[string]string) {\n    for key, value := range h {\n        w.Header()[key] = []string{value}\n    }\n}\n\nfunc main() {\n    http.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) {\n        fmt.Fprintf(w, `\n        <html>\n          <head>\n            <link href='/cache.css' rel='stylesheet' type='text/css' />\n          </head>\n          <body>\n            <h2>default page</h2>\n          </body>\n        </html>\n        `)\n    })\n\n    http.HandleFunc(\"/cache.css\", func(w http.ResponseWriter, r *http.Request) {\n        setHeader(w, map[string]string{\n            \"Cache-Control\": \"public, max-age=130\",\n            \"ETag\":          \"e123456789\",\n            \"Content-Type\":  \"text/css\",\n            // 服务器时间慢 100 秒\n            \"Date\": time.Now().Add(time.Second * -100).UTC().Format(http.TimeFormat),\n        })\n        fmt.Fprintf(w, \"h2 {color: red}\")\n    })\n\n    log.Fatal(http.ListenAndServe(\"127.0.0.1:8080\", nil))\n}\n</code></pre>"]},{"title":"js 怎么强制 手机页面横屏？","tags":["javascript","css","html"],"content":"<p>js 怎么强制 手机页面横屏显示？求解，谢谢！</p>","answer":["<p>body { transform: rotate(90deg); }</p>","<p>媒体查询，竖屏提示请横屏浏览</p>\n<pre><code>@media screen and (orientation: portrait) {\n    \n}</code></pre>","<p>/<em>竖屏</em>/<br>@media screen and (orientation: portrait){<br>　body{background:#f00}<br>}<br>/<em>横屏</em>/<br>@media screen and (orientation: landscape){<br>　body{background:#000}<br>}<br>如果用户在手机中设置关闭屏幕旋转无效<br><a href=\"http://www.yilingsj.com/xwzj/2017-06-16/547.html\">移动端开发中的坑之手机端强制横屏</a></p>"]},{"title":"vue注册组件有问题","tags":["vue.js"],"content":"<p>我写了一个headcomponent的组件，然后放到main.js来全局使用，我是这样引用的<br><span class=\"img-wrap\"><img data-src=\"/img/bV4m43?w=461&h=407\"></span></p>\n<p>但是却报了这个错</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m5o?w=1252&h=115\"></span></p>\n<p>这是为什么呢？还是说需要在app.vue里面配置？</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m5I?w=489&h=471\"></span></p>","answer":["<p>如果想注册成全局的</p>\n<p>在main.js用 Vue.component(组件名,组件)</p>","<p>全局注册在main.js中用`Vue.component， <a>官网api Vue-component</a> <br>ps：局部注册要在你的hear.vue里面注册</p>","<p>解决了，原来在header.js里面，我是这样子写的：export default { HeadComponent }，输出的是对象，所以一直读取不了属性header.vue中输出的name</p>"]},{"title":"protoc不生成.proto中的service，只生成model相关类，求助。","tags":["protobuf","java"],"content":"<p>win10系统，jdk1.8,protobuf3.5.1, gRPC1.10.0。</p>\n<pre><code>//message.proto\n\nsyntax = \"proto3\"; \n\npackage filter.proto; \noption java_multiple_files = true;\noption java_outer_classname = \"MessageProto\"; \n\n\nservice FilterService{\n    rpc FilterBlack(Mobile) returns (BlackResult) {}\n\n}\n\nmessage Mobile{\n    string mobile = 1;\n}\nmessage BlackResult{\n    bool  result=1;\n}</code></pre>\n<p>protoc只生成Mobile,BlackResult相关代码，并不生成service相关的代码。</p>\n<p>在网上查到必须要设置插件protoc-gen-grpc-java,找到一篇文章 <a href=\"https://www.jianshu.com/p/6c9f90538efe\">从Protocol Buffers 到 gRPC </a><br>按照上面的操作下载gRPC的git代码自行编译，但是总是碰到错误,各种出错，大概因该是一些文件因为墙的原因下载失败。</p>\n<p>于是我从 <a href=\"http://central.maven.org/maven2/io/grpc/protoc-gen-grpc-java/1.10.0/protoc-gen-grpc-java-1.10.0-windows-x86_64.exe\">maven中央仓库下载了protoc-gen-grpc-java-1.10.0-windows-x86_64.exe</a> ，与protoc.exe放在同一目录下。使用如下命令</p>\n<pre><code> E:/RPC/protoc/bin/protoc  --plugin=protoc-gen-grpc-java=E:/RPC/protoc/bin/protoc-gen-grpc-java-1.10.0-windows-x86_64.exe\n--proto_path=E:/Java/protobuf --java_out=E:/Java/protobuf   message.proto</code></pre>\n<p>但是仍然无法生成service的代码。现在这个插件protoc-gen-grpc-java-1.10.0-windows-x86_64.exe已经有了，我该如何让它生效？</p>","answer":["<p>已解决，需要运行两次，参数要有变化。</p>\n<ol><li>生成model<br>E:/RPC/protoc/bin/protoc  --proto_path=E:/Java/protobuf --java_out=E:/Java/protobuf   message.proto</li></ol>\n<p>2.生成service<br> E:/RPC/protoc/bin/protoc  --plugin=protoc-gen-grpc-java=E:/RPC/protoc/bin/protoc-gen-grpc-java-1.10.0-windows-x86_64.exe<br>--proto_path=E:/Java/protobuf --grpc-java_out=E:/Java/protobuf   message.proto</p>"]},{"title":"js Promise","tags":["javascript"],"content":"<pre><code>var reader = function (i) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      console.log(i)\n      resolve()\n    }, 2000)\n  })\n}\n\nvar p = new Promise(function (resolve, reject) {\n  resolve()\n})\n\nfor (var i = 0, len = 5; i < len; i += 1) {\n  (function (i) {\n    p.then(function () {\n      return reader(i)\n    })\n  })(i)\n}</code></pre>\n<p>请问下这段代码如何改成每隔2秒打印一次结果呢？现在是2秒后同时打印结果</p>","answer":["<p>(function (i) {</p>\n<pre><code>p = p.then(function () {\n  return reader(i)\n})</code></pre>\n<p>})(i)</p>","<pre><code>var reader = function (i) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      console.log(i)\n      resolve()\n    }, 2000*i)// 改变间隔\n  })\n}\n\nvar p = new Promise(function (resolve, reject) {\n  resolve()\n})\n\nfor (var i = 0, len = 5; i < len; i += 1) {\n  (function (i) {\n    p.then(function () {\n      return reader(i)\n    })\n  })(i)\n}</code></pre>"]},{"title":"go如何引用外部结构体","tags":["go语言","golang"],"content":"<p>a.go中含有一结构体，想要在b.go中使用这个结构体，该如何做到？<br>目录：</p>\n<pre><code>-project/\n  -pac1/\n    -a.go\n  -b.go</code></pre>\n<p>main在b.go中</p>\n<p>我在a.go头部加入<code>package pac1</code>， 后在b.go中使用<code>import \"pac1\"</code>是无法正确引用的。<br>只有把pac1放在gopath下才能引用。</p>","answer":["<p>建议读一本golang入门书，事半功倍</p>","<p>楼上说得对。。</p>","<p>请参考 <a href=\"https://golang.org/doc/code.html\">https://golang.org/doc/code.html</a></p>\n<p>项目文件结构应该是这样的</p>\n<pre><code>bin/\n    hello                          # command executable\n    outyet                         # command executable\npkg/\n    linux_amd64/\n        github.com/golang/example/\n            stringutil.a           # package object\nsrc/\n    github.com/golang/example/\n        .git/                      # Git repository metadata\n    hello/\n        hello.go               # command source\n    outyet/\n        main.go                # command source\n        main_test.go           # test source\n    stringutil/\n        reverse.go             # package source\n        reverse_test.go        # test source\n    golang.org/x/image/\n        .git/                      # Git repository metadata\n    bmp/\n        reader.go              # package source\n        writer.go              # package source\n    ... (many more repositories and packages omitted) ...</code></pre>","<pre><code>-$GOPATH/src\n    -project/\n      -pac1/\n        -a.go\n      -b.go</code></pre>\n<p>推荐方式是这样的</p>\n<p><code>import \"project/pac1\"</code></p>"]},{"title":"當前頁面的樣式怎麼抓？","tags":["javascript","css","php"],"content":"<p>例如<br><a href=\"https://www.snapchat.com/create\">https://www.snapchat.com/create</a></p>\n<p>只要在 create瀏覽，上面的選單下面就會有個樣式是已選擇的，告訴你當前的位置，樣式我會用，但我要怎麼判斷說使用者當前在什麼地方？我才能套用該樣式告訴使用者現在的位置？我之前的方法是抓當前的網址來判斷，不過還有其他方法嗎？像他會是怎麼做的呢？</p>","answer":["<p>不知道你说的是不是这个<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mYW?w=669&h=45\"></span></p>\n<p>这个叫导航，通常是配合路由实现的。如果不打算采用完整的路由系统（比如ReactRouter），也可以根据页面路径中的<code>path</code>来判断</p>","<p>你是台湾仔吗？表示看字看不下去 ~_~</p>"]},{"title":"在哪里能找到带有农历的vue日历组件？","tags":["vue.js"],"content":"<p>公司项目有一个模块需要用到日历，要求日历上有农历，我在网上找到的vue日历组件都是不带农历的。希望能在这里找到一个带农历的vue日历组件，或者能找到一种实现这个需求的思路也可以。</p>","answer":["<p><a href=\"http://blog.w3cub.com/vue2-calendar/?x-page=github\">http://blog.w3cub.com/vue2-ca...</a></p>\n<p>看demo的最后一个例子</p>"]},{"title":"使用for 的时候调用函数多次，导致类初始化多次，然而类的初始化参数又依赖于传参．如何改进思路．","tags":["python"],"content":"<p>类 的定义</p>\n<pre><code>class AbuPickTimeWorker(AbuPickTimeWorkBase):\n \n    def __init__(self, cap, kl_pd, benchmark, buy_factors, sell_factors):\n        self.capital = cap\n        self.kl_pd = kl_pd\n        self.combine_kl_pd = ABuSymbolPd.combine_pre_kl_pd(self.kl_pd, n_folds=1                      \n        self.benchmark = benchmark\n        self.init_buy_factors(buy_factors)\n        self.init_sell_factors(sell_factors)\n        self.filter_long_task_factors()\n        #不初始化\n        self.orders = list()\n        self.task_pg = None\n        \n    def _day_task(self, today):\n        sell = mockTrading()\n        self._task_attached_sell(today, how='day')\n        for sell_factor in self.sell_factors:\n            sell_factor.read_fit_day(today, self.orders)\n    \n        for buy_factor in self.buy_factors:\n            if not buy_factor.lock_factor:\n                order = buy_factor.read_fit_day(today)\n                if order and order.order_deal:\n                    self.orders.append(order)</code></pre>\n<p>函数调用类的方法，类初始化多次，如何不初始化多次，使得self.orders不初始化，使用单例模式，回导致orders一直不变，想实现每个实例初始化一次．</p>\n<pre><code>   def stockBuy(read_cash, buy_factors, sell_factors, choice_symbol,date,env=None):\n   \n        abupy.env.g_enable_ml_feature = True\n        abupy.env.g_market_target = EMarketTargetType.E_MARKET_TARGET_CN\n        commission_dict = {\n            'buy_commission_func': buy_commission_ch,\n            'sell_commission_func':sell_commission_ch}\n        \n        benchmark = AbuBenchmark()\n        capital = AbuCapital(\n            read_cash,\n            benchmark,\n            commission_dict)\n        kl_pd_manager = AbuKLManager(benchmark, capital)\n        \n        kl_pd = kl_pd_manager.get_pick_time_kl_pd(choice_symbol)\n        #初始化多次？？？\n        time_work = stockSell(\n            capital,\n            kl_pd,\n            benchmark,\n            buy_factors,\n            sell_factors)\n        try:\n            if date == datetime.datetime.today().strftime('%Y%m%d'):\n                today_time = kl_pd[:date].iloc[-1]\n                # print (today_time)\n                # 调用类的方法\n                time_work._day_task(today_time)\n                return time_work.orders\n            else:\n                today_time = kl_pd[:date].iloc[-2]\n                # print (today_time)\n                time_work._day_task(today_time)\n                return time_work.orders\n        except TypeError:\n            pass</code></pre>\n<p>调用函数</p>\n<pre><code>if __name__ == '__main__':\n    stock_300 = pd.read_csv(\n        '../src/000300closeweight.csv',\n        encoding='gbk',\n        dtype={\n            '成分券代码Constituent Code': str})\n    stock_300.sort_values(by='权重(%)Weight(%)', ascending=False, inplace=True)\n    choice_symbols = stock_300[:100]['成分券代码Constituent Code'].tolist()\n    choice_symbols = list(set(choice_symbols))\n    print(choice_symbols)\n    \n    read_cash = 200000\n    buy_factors = [\n        {\n            'fast': 5, 'slow': 20, 'class': AbuDoubleMaBuy}, {\n            'xd': 60, 'class': AbuFactorBuyBreak}, {\n            'xd': 42, 'class': AbuFactorBuyBreak, 'position': {\n                'class': AbuKellyPosition}, }]\n    sell_factors = [\n        {'stop_loss_n': 1.0, 'stop_win_n': 3.0,\n         'class': AbuFactorAtrNStop},\n        {'class': AbuFactorPreAtrNStop, 'pre_atr_n': 1.5},\n        {'class': AbuFactorCloseAtrNStop, 'close_atr_n': 1.5}]\n\n    commission_dict = {\n        'buy_commission_func': buy_commission_ch,\n        'sell_commission_func': sell_commission_ch}\n    benchmark = AbuBenchmark()\n\n    capital = AbuCapital(\n        read_cash,\n        benchmark,\n        commission_dict)\n    kl_pd_manager = AbuKLManager(benchmark, capital)\n\n    kl_pd = kl_pd_manager.get_pick_time_kl_pd(choice_symbol)\n\n    buy = stockSell(cap, kl_pd, benchmark, buy_factors, sell_factors)\n    start_day = datetime.date(2017, 6, 1)\n　＃使用for 的时候调用函数多次，导致类初始化多次，然而类的初始化参数又依赖于传参．如何改进思路．\n    for i in range(300):\n        start_day += datetime.timedelta(days=1)\n        \"\"\"\n        methods:\n        buy.singnal_sell(code,date)\n        buy.mulit_process_sell(code_list,date,n_jobs)\n        \"\"\"\n      \n        result = stockBuy(read_cash,buy_factors,sell_factors,choice_symbols[0],str(\n                        start_day.strftime('%Y%m%d')),env=None)\n        print ('result',[r for r in list(result) if r])</code></pre>\n<p>单例模式代码</p>\n<pre><code>def singleton(cls):\n    instances = {}\n\n    def wrapper(*args, **kwargs):\n        if cls not in instances:\n            instances[cls] = cls(*args, **kwargs)\n        return instances[cls]\n\n    return wrapper\n</code></pre>","answer":["<p>这种问题，把代码简化了说明比较好。<br>参数是变的，根本也就不存在“初始化多次”的问题，因为本身就是需要多个状态的。</p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\nclass A(object):\n    def __init__(self, i):\n        print i\n\nfor i in range(10):\n    A(i)</code></pre>\n<p>如上代码，如果本身需要那个变化的 <code>i</code> ，那么不同的 <code>i</code> 创建不同的 <code>A</code> 的实例是没有问题。（不是唯一的处理方式）</p>"]},{"title":"ajax 问题","tags":["javascript","css","html"],"content":"<p>在弄文件上传模拟时，想去修改content-length的大小而去改变文件上传的大小</p>\n<p>但在用ajax设置post请求的时候，设置了header<br><span class=\"img-wrap\"><img data-src=\"/img/bV4lLz?w=1050&h=232\"></span></p>\n<p>但是浏览器报错了，提示不安全，怎么处理呢？？？</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lLZ?w=722&h=175\"></span></p>\n<p>各位有什么模拟文件上传的方法吗，不能传真实的文件哦，</p>","answer":["<p>这两个属性是个response用的，不能再request设置</p>","<p>删除就好了，设置这几个header没必要的</p>","<p>这个问题就很玄妙了，这两个属性是浏览器自己会默认设置的，也就是说不允许随便自己整这两个属性。因为这两个属性在某些情况下对服务器来说是危险且错误的。解决方式就是不要设置这两个属性了。</p>\n<p>keep-alive是现在浏览器默认的，Content-length貌似没有必要自己手动设置</p>","<p>js设置请求头不是应该用setRequestHeader吗？你这个写法有点像jquery的ajax</p>"]},{"title":"页面伪静态,前端相关配置","tags":["html","javascript","php"],"content":"<p>后台同志使用Ng将服务端配置完成之后，已经可以成功的访问到页面。<br>页面样式全都正常，但是原先代码获取的参数是通过url中的search获得的。<br>伪静态之后就已经无法从search中获取参数了。<br>如：原URL = www.aaa.com/details?id=1111;<br>伪静态之后URL = www.aaa.com/details/1111;<br>由于很多页面的参数格式不一样，从pathname中切割不是很准确。<br>请问有什么更好的办法来获取URL中的参数？？？</p>","answer":["<p>为什么说参数不能放在 search 中呢？没遇到这种限制。<br>最好还是在 search 中，如果不行，可以考虑用 location.hash</p>","<p>参数格式不一样，到底是哪方面不一样，</p>\n<p>对象序列化能不能解决？</p>\n<pre><code>//传参\nvar data = {name:'li',age:18},\nurl += \"?params=\"+JSON.stringify(data);\n\n//获取\nvar data = location.search.split(\"params=\")[1].split(\"&\")[0];\ndata = JSON.parse(data);</code></pre>","<p>你意思是你们改用 <code>RESTful</code> 了吗...</p>\n<p>那就只能约定好 <code>path</code> 里哪部分是什么这样做了。</p>"]},{"title":"已知网站中各月份的链接结构，scrapy要如何爬取？","tags":["scrapy","python"],"content":"<p>爬取某网站的公示信息，打开第一页（当月）后，底部的跳转是按月份。</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lat?w=1838&h=458\"></span></p>\n<p>每一个链接都有相似结构</p>\n<pre><code><a href=\"/notices/2018/1\">1月</a></code></pre>\n<p>请问在scrapy中要如何爬取。</p>","answer":["<p>你应该分析html结构和抓取的标签，例如这是一个table（我瞎猜的，嗯）tabody->tr->td->a，然后去使用xpath或者BeautifulSoup4去提取,提取出来的月份链接list,循环遍历这个list产生请求去追踪每个页面。</p>\n<pre><code>yield scrapy.Request(url, callback=self.parse_everymonth_content, headers=headers)</code></pre>","<p>先通过  XPath Helper  精确找出要抓取的内容<br>然后 在Scrapy中操作 接下来还有几个步骤  建议楼主去看一下相关的视频</p>"]},{"title":"关于next-key锁，gap锁区间的疑问","tags":["事务","innodb","mysql"],"content":"<p><strong>表user结构如下：</strong></p>\n<pre><code class=\"sql\">CREATE TABLE `user` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL DEFAULT '',\n  `score` int(11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`id`),\n  KEY `index_score` (`score`) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></pre>\n<p><strong>当前的user表数据如下：</strong></p>\n<table>\n<thead><tr>\n<th>id</th>\n<th>name</th>\n<th>score</th>\n</tr></thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>test1</td>\n<td>5</td>\n</tr>\n<tr>\n<td>2</td>\n<td>test2</td>\n<td>10</td>\n</tr>\n<tr>\n<td>3</td>\n<td>test3</td>\n<td>15</td>\n</tr>\n<tr>\n<td>4</td>\n<td>test4</td>\n<td>22</td>\n</tr>\n</tbody>\n</table>\n<p><strong>我测试gap锁区间的sql如下：</strong></p>\n<blockquote>事务隔离级别为RR</blockquote>\n<table>\n<thead><tr>\n<th>session 1</th>\n<th>session 2</th>\n</tr></thead>\n<tbody>\n<tr>\n<td>begin;</td>\n<td>begin;</td>\n</tr>\n<tr>\n<td>update user set name = 'test' where score = 15;</td>\n<td>-</td>\n</tr>\n<tr>\n<td>-</td>\n<td>insert into user values(5, 'test5', 10); # 阻塞</td>\n</tr>\n<tr>\n<td>-</td>\n<td>insert into user values(5, 'test5', 21); # 阻塞</td>\n</tr>\n<tr>\n<td>commit;</td>\n<td>-</td>\n</tr>\n<tr>\n<td>-</td>\n<td>commit;</td>\n</tr>\n</tbody>\n</table>\n<blockquote>Suppose that an index contains the values 10, 11, 13, and 20. The possible next-key locks for this index cover the following intervals, where a round bracket denotes exclusion of the interval endpoint and a square bracket denotes inclusion of the endpoint:<p>(negative infinity, 10]<br>(10, 11]<br>(11, 13]<br>(13, 20]<br>(20, positive infinity)</p>\n<p><a href=\"https://docs.oracle.com/cd/E17952_01/mysql-5.1-en/innodb-record-level-locks.html\">14.6.4.2 InnoDB Record, Gap, and Next-Key Locks</a></p>\n</blockquote>\n<p><code>按照上面的说明，gap锁的区间应该是(10, 15],(15, 22]，也就是(10, 22]，但是我实际测试发现gap锁区间为[10, 22)？</code></p>\n<p><strong>环境说明：</strong></p>\n<pre><code>System: ubuntu 16.04\nMysql Version: 5.5.56</code></pre>","answer":["<p>=.=.</p>\n<p>事物分开，你是21的时候阻塞了。应该是锁（10,22）</p>\n<p>begin;<br>--  插入score value为10~21的时候会阻塞<br>insert into user values(5, 'test5', 10);</p>"]},{"title":"想自己弄个APP慢慢长久的做   有什么好的类型推荐么","tags":["javascript"],"content":"<p>大家有什么好的想法  让更多的用户来用</p>","answer":["<p>做一个笔记类型的APP，用户可以在上面作笔记，写日记，收藏网页。可以考虑用HBuilder来写代码，生成Android APP和IOS APP。最好Web平台也要有。</p>","<p>你的问题过于宽泛，而且问的还不是技术问题。一般APP就两种，要么做内容，要么做功能。<br>功能方面的APP市面上已经基本满足，其余都是小众或者细节上的需求，基本无法让更多的用户来用，<br>而做内容，这方面需要定下APP的主题，做哪方面的内容，问题在于你是自己做，那么做的内容基本很难有原创，不是爬来的就是转过来的，做到一定程序避免不了侵权问题，所以你自己思考吧，我并不建议一个人做APP。</p>","<p>to do list 至少可以自己用</p>"]},{"title":"vue keepalive，缓存","tags":["vue.js","javascript"],"content":"<p>路由配置:</p>\n<pre><code>{\n    path: '/submit',\n    component: resolve => {\n        require(['./pages/sb.vue'], resolve);\n    },\n    meta: {keepAlive: true}\n},</code></pre>\n<p>app.vue配置</p>\n<pre><code><!-- 这里是需要keepalive的 -->\n<keep-alive>\n    <router-view v-if=\"$route.meta.keepAlive\"></router-view>\n</keep-alive>\n\n<!-- 这里不会被keepalive -->\n<router-view v-if=\"!$route.meta.keepAlive\"></router-view></code></pre>\n<p>(因为我的代码比较长，复制了下别人的，基本情况是一样的)<br>现在有这样一个情形：</p>\n<pre><code>list_1和list_2是由同一个vue页面渲染出来的两个路由页面；detail_1是list_1的详情页；\n需要判断或者选择缓存的是list_1和list_2页面，详情页不进行缓存；\n\nlist_1--detail_1;\nlist_2--detail_2;\n\n情形1：从list_1跳转到detail_1，缓存list_1页面；浏览器返回list_1，调用缓存；正常。\n\n情形2：从list_1跳转到detail_1，缓存list_1页面；点击list_2,缓存list_2页面；再点击detail_2，浏览器返回list_2；此时页面显示的是list_1的数据，不正常。</code></pre>\n<p>情形2怎么处理？缓存了两个页面，无法选择或销毁想要的缓存页面。</p>","answer":["<p>按照我们团队的规范，list 列表页会进行 keep-alive 保持，详情页会在离开的时候直接 destroy，避免你提到的连续点开详情页的问题。因为一个component 只会初始化一次，在不销毁新建的情况下，可能无法触发数据的重新获取，进而展示上一次打开的detail_1，keep-alive 是直接休眠在唤醒。另外，针对数据可变的页面去做 keep-alive 也不太符合它的应用场景，既要它不变，又想它变，就矛盾了。</p>","<p>从l2进入d2,然后又回到列表页，显示的是l1，说明缓存没有成功，能把你列表页的代码贴出来看一下吗</p>\n<p>另外，你一个组件加载不同的列表类型，是根据路由传参判断的类型吗，是不是返回列表页的时候参数没传过去，导致加载的是默认的列表页1？</p>\n<p>又或者你是在一个页面加载了两个列表组件，只是用if或者show控制了他们的显示隐藏，从详情页回来的时候，该页面控制显示隐藏的变量重置了，所以显示的是默认的列表1？</p>\n<p>不好猜！！！</p>"]},{"title":"如何获取用户对文件的权限（php）","tags":["php"],"content":"<p>如何获取用户对文件的权限（php）<br>或者判断用户对文件是否有执行权限</p>","answer":["<p>强大的PHP帮你做了很多事情，可以考虑用下列两个函数<br><code>is_writable</code>  是否可写<br><code>is_executable</code> 是否可执行</p>","<p>1.如果是图形界面，可以右键查看属性</p>\n<p>2.可以在该文件目录下使用命令：  ls -al</p>\n<p>3.如果是root用户，可直接将文件目录改成需要的权限： chmod 777 /root/yourdir or file.</p>\n<p>----来自百度</p>"]},{"title":"使用webpack的htmlwebpackplugin就报错","tags":["node.js","html","webpack"],"content":"<p>最近开始学习<code>webpack</code>，跟着文档一步一步走，<br>到使用<code>html-webpack-plugin</code>生成<code>index.html</code>时出错了，明明和文档上一模一样，就是报错...</p>\n<p><code>webpack.config.js</code>如下：<br><span class=\"img-wrap\"><img data-src=\"/img/bV4nPf?w=715&h=399\"></span></p>\n<p>报错信息：<br><span class=\"img-wrap\"><img data-src=\"/img/bV4nPX?w=1038&h=494\"></span></p>\n<p><code>node</code>还有弃用警告...</p>\n<p>把配置里的<code>new HtmlWebpackPlugin()</code>去掉能正常运行</p>\n<p>请大佬指教！</p>","answer":["<p>你用的webpack是哪个版本的，最新版的4.0出来了，把HtmlWebpackPlugin舍弃了，需要特别下载才行</p>\n<pre><code>$> yarn add html-webpack-plugin@webpack-contrib/html-webpack-plugin</code></pre>"]},{"title":"java后台做一个上传新闻文章的功能，如何让数据库中保存格式，并且在前台按格式展示呢？","tags":["javascript","java"],"content":"<p>保留上传时的格式</p>","answer":["<p>那就用富文本编辑器. <br>有相对应的三方库.会根据文本格式,生成相对应的样式.传入到后台.保存也一样</p>","<p><strong>富文本</strong>  </p>\n<p>推荐<a href=\"http://www.wangeditor.com/\">http://www.wangeditor.com/</a></p>\n<p><em>存续HTML格式的内容到数据库，前台展示直接读取显示就好了。</em></p>\n<p><em>注意XSS攻击</em></p>"]},{"title":"使用webpack时 如何让某段代码不编译","tags":["webpack","javascript"],"content":"<p>使用<code>webpack</code>时 如何让某段代码不编译</p>","answer":["<p>我的理解，webpack如果什么loader、plugin都不加的话，webpack 不会更改代码中除 import 和 export 语句以外的部分，就是es6也需要有babel-loader之类的来处理。所以你说的某段代码应该是说loader的处理希望对某个模块的某一部分进行排除的话，这个应该需要自己来写loader才行，一般通用的loader的都是以模块为最小单元处理，</p>\n<p>刚看了下了评论，题主再问使用<a href=\"https://doc.webpack-china.org/plugins/uglifyjs-webpack-plugin/\">uglifyjs-webpack-plugin</a>这个插件的问题；可以看看<a href=\"https://github.com/mishoo/UglifyJS2/tree/harmony#compress-options\">compress-options参数</a>；</p>\n<blockquote>drop_console (default: false) -- Pass true to discard calls to console.* functions. If you wish to drop a specific function call such as console.info and/or retain side effects from function arguments after dropping the function call then use pure_funcs instead.<p>pure_funcs (default: null) -- You can pass an array of names and UglifyJS will assume that those functions do not produce side effects. DANGER: will not check if the name is redefined in scope. An example case here, for instance var q = Math.floor(a/b). If variable q is not used elsewhere, UglifyJS will drop it, but will still keep the Math.floor(a/b), not knowing what it does. You can pass pure_funcs: [ 'Math.floor' ] to let it know that this function won't produce any side effect, in which case the whole statement would get discarded. The current implementation adds some overhead (compression will be slower).</p>\n</blockquote>\n<p>可以知道，其实pure_funcs提供了使用者来保持书写的代码不被改动的功能，题主可以具体实验下。</p>"]},{"title":"react 里面如何全局使用组件","tags":["javascript","react.js"],"content":"<p>react 能像vue那样全局注册一个组件<br>然后到处都能使用, 不需要一遍遍去import </p>\n<p>还有我引入了 <code>antd</code> UI框架<br>有什么办法能像  Vue 那样 <code>Vue.use(antd)</code> 这样去注册,然后全局使用</p>","answer":["<p>没有这种机制，vue的全局组件应该是经过vue-loader处理过的</p>"]},{"title":"Python如何爬取多个Request URL不变，Form Data改变的页面？","tags":["网页爬虫","python"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mtI?w=864&h=267\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mtU?w=791&h=115\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mt0?w=499&h=47\"></span></p>\n<p>Python如何爬取多个Request URL不变，Form Data改变的页面？<br>根据搜索点击房间，发现点击的房间的信息头request url地址是一样的，直接访问进不了房间，如何通过传递Form Data请求模拟真实用户点击房间？</p>\n<p>图片描述</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mt7?w=1416&h=95\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4muw?w=787&h=429\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4muE?w=612&h=203\"></span></p>","answer":["<p><code>FormData</code>是要通过<code>POST</code>请求传入的，浏览器直接输入网址是<code>GET</code>请求，再Python中使用requests等http库可以构造<code>POST</code>请求</p>"]},{"title":"nginx1.13.9如何跨域配置server push?","tags":["http-2","nginx"],"content":"<p>最近nginx.1.13.9版本已经支持server push了，</p>\n<pre><code>Changes with nginx 1.13.9                                        20 Feb 2018\n\n    *) Feature: HTTP/2 server push support; the \"http2_push\" and\n       \"http2_push_preload\" directives.\n\n    *) Bugfix: \"header already sent\" alerts might appear in logs when using\n       cache; the bug had appeared in 1.9.13.\n\n    *) Bugfix: a segmentation fault might occur in a worker process if the\n       \"ssl_verify_client\" directive was used and no SSL certificate was\n       specified in a virtual server.\n\n    *) Bugfix: in the ngx_http_v2_module.\n\n    *) Bugfix: in the ngx_http_dav_module.\n</code></pre>\n<p>具体指令部分语法：</p>\n<pre><code>Syntax:    http2_push uri | off;\nDefault:    \nhttp2_push off;\nContext:    http, server, location\nThis directive appeared in version 1.13.9.\n\nPre-emptively sends (pushes) a request to the specified uri along with the response to the original request. Only relative URIs with absolute path will be processed, for example:\n\nhttp2_push /static/css/main.css;\nThe uri value can contain variables.\n\nSeveral http2_push directives can be specified on the same configuration level. The off parameter cancels the effect of the http2_push directives inherited from the previous configuration level.\n\nSyntax:    http2_push_preload on | off;\nDefault:    \nhttp2_push_preload off;\nContext:    http, server, location\nThis directive appeared in version 1.13.9.\n\nEnables automatic conversion of preload links specified in the “Link” response header fields into push requests.</code></pre>\n<p>如果是使用第一种方法。那么要求推送的资源必须是绝对路径，这个绝对路径是相对当前domain的，比如当前的页面是www.example.com,我要推送的资源是 www.example.com/demo.css，那么我只要在www.example.com的主机配置文件:</p>\n<p>http2_push /demo.css;</p>\n<pre><code>即可了，但是，如果我要推送的是跨域的资源呢？比如，assets.example.com/demo.css\n我该如何操作？</code></pre>","answer":["<p>不能，因为不同域名不能使用同一个TCP连接。</p>"]},{"title":"在本端寫網頁會有cache.....怎麼刪除？","tags":["apache","php","macos","缓存","css"],"content":"<p>我在macos上寫網頁，用xampp架設的，css都會有cache...我試著在後面加上數字</p>\n<pre><code>css?v=1</code></pre>\n<p>又或者加入rand的數字...但是都還是會cache...請問要怎麼把這功能取消才好？有時候改好樣式，重新整理就好了，在重新整理個幾次又會出現舊版樣式</p>","answer":["<pre><code><filesMatch \"\\.(html|htm|js|css)$\">\n  FileETag None\n  <ifModule mod_headers.c>\n     Header unset ETag\n     Header set Cache-Control \"max-age=0, no-cache, no-store, must-revalidate\"\n     Header set Pragma \"no-cache\"\n     Header set Expires \"Wed, 11 Jan 1984 05:00:00 GMT\"\n  </ifModule>\n</filesMatch></code></pre>\n<p>转自 Disable caching of assets in Apache<br><a href=\"http://bertanguven.com/disable-caching-of-assets-in-apache\">http://bertanguven.com/disabl...</a></p>"]},{"title":"vue axios 通过 js-file-download 下载的zip、pdf等打不开","tags":["axios","vue.js"],"content":"<p>后端是java。<br>直接通过浏览器下载，可以下载并打开zip、pdf，因此判断java端是ok的。</p>\n<p>vue中通过axios做调用。</p>\n<p>由于axios不提供下载功能，百度到stackoverflow方案，<a href=\"https://stackoverflow.com/questions/41938718/how-to-download-files-using-axios\">https://stackoverflow.com/que...</a> , 说可以用 react-file-download 提供下载功能。</p>\n<p>但是安装时 npm install react-file-download时，提示改为js-file-download了，于是安装 js-file-download使用。</p>\n<p>vue中代码：</p>\n<pre><code>    click2download: function () {\n      let vm = this\n      let docID = this.value.doc.id\n      this.$axios.get('/download?doc_id=' + docID).then(function (response) {\n        let fileDownload = require('js-file-download')\n        fileDownload(response.data, vm.ascii2native(response.headers['x-suggested-filename']))\n      })\n    },</code></pre>\n<p>zip，pdf可以下载，但是会打不开，提示文件损坏。</p>","answer":["<p><a href=\"https://github.com/axios/axios/issues/448\">https://github.com/axios/axio...</a></p>\n<p>已解决：为axios 使用问题</p>"]},{"title":"wepy写的小程序预览时缺少js文件","tags":["html","javascript"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4l2X?w=1920&h=1080\"></span></p>","answer":["<p>是否取消勾选<br><span class=\"img-wrap\"><img data-src=\"/img/bV4oEl?w=385&h=290\"></span></p>"]},{"title":"原型中方法的访问问题","tags":["javascript"],"content":"<pre><code>alert(Array.sort);//可以打印\nalert(Array.prototype.sort);//可以打印\n\nalert(Array.sort==Array.prototype.sort);//false\n/*问题1:这是为什么sort应该是原型中的方法那么应该返回true才对呀*/\n\n/********************************/\n\nvar a=[5,4,3,2,1];\nalert(Array.prototype.sort.call(a));//1,2,3,4,5\nalert(Array.sort.call(a));//问题2:这里会报错这又是为什么\n\n/*综述:难道Array.sort和Array.prototype.sort是两个不同的函数吗?\n       如果这是两个不同的函数,那么请问Array.sort中的sort保存在哪？*/</code></pre>","answer":["<p>题主题目有问题，因为 <code>Array.sort</code> 是 <code>undefined</code>，但是大概明白题主要问什么，看案例：</p>\n<pre><code>function MyArray(){\n    \n}\nMyArray.prototype.sort=function(){};\nMyArray.sort=function(){};\nlet insMyArray=new MyArray();\n</code></pre>\n<p>自定义类 <code>MyArray</code> ，<code>MyArray.sort</code> 是 <code>MyArray</code> 的静态方法，<code>MyArray.prototype.sort</code> 是 <code>MyArray</code> 原型对象上的方法，两个方法的作用通常是一致的，有的稍微有点区别；</p>\n<p>如果两个方法的指针不一致（不指向内存里的同一个函数），那么</p>\n<pre><code>MyArray.prototype.sort===MyArray.sort;// false\n</code></pre>\n<p><code>insMyArray</code> 作为 <code>MyArray</code> 的实例，调用的 <code>sort</code> 方法是 <code>MyArray.prototype.sort</code>；</p>\n<p>如果用 ES6 的写法就是这样：</p>\n<pre><code>class MyArray {\n    constructor() {}\n    static sort() {}//MyArray.sort\n    sort() {}//MyArray.prototype.sort\n}\nlet insMyArray = new MyArray();\n\n</code></pre>"]},{"title":"微信浏览器中阻止默认的下拉显示网址问题","tags":["微信开发","vue.js","html","javascript"],"content":"<p>js禁止微信浏览器下拉显示黑底查看网址，不影响内部Scroll，我在网上找了好多方案，但是在项目中试了还是无法阻止js禁止微信浏览器下拉显示黑底查看网址，要不就是会把scroll禁止掉，求大神指教，下面是我测试的代码</p>\n<pre><code>        var overscroll = function(el){ \n        el.addEventListener('touchstart', function(){ \n          var top = el.scrollTop; \n          var totalScroll = el.scrollHeight; \n          var currentScroll = top + el.offsetHeight; \n          if(top === 0) { \n            el.scrollTop = 1; \n          }else if(currentScroll === totalScroll){ \n            el.scrollTop = top - 1; \n          } \n        }); \n        el.addEventListener('touchmove', function(evt){ \n          if(el.offsetHeight < el.scrollHeight){ \n            evt._isScroller = true; \n          } \n        }); \n      } \n      for(var i=0;i<document.querySelectorAll('.scroll').length;i++){\n    overscroll(document.querySelectorAll('.scroll')[i]);\n    }\n      document.body.addEventListener('touchmove', function(evt) { \n        if(!evt._isScroller){ \n          evt.preventDefault(); \n        } \n      },false); </code></pre>","answer":["<p>谢邀。<br>之前用过一种方案，是把body独立（不作为wrap容器），然后在body上加个<code>pointer-events: none;</code>滤掉触摸事件，再在子级上加个<code>pointer-events: auto;</code>恢复，不知道是否适合你的项目～</p>"]},{"title":"imput type=range手机模式下不显示的问题","tags":["html5"],"content":"<p>如题，一个谷歌浏览器，在PC模式和手机模式下，input type=range 一个显示一个不显示，而且显示的时候也占了很大的高度，这是什么情况<br><span class=\"img-wrap\"><img data-src=\"/img/bV4lzO?w=604&h=316\"></span><br>这是PC模式<br><span class=\"img-wrap\"><img data-src=\"/img/bV4lz0?w=624&h=346\"></span><br>这是手机模式</p>","answer":["<p>在手机上去看，用chrome的模拟器不一定真实</p>"]},{"title":"vue中路由嵌套的问题","tags":["vue.js"],"content":"<p>初学VUE，好多地方不明白，如果问题实在小白，请大家见谅。</p>\n<pre><code>App.vue中的代码\n<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script></code></pre>\n<p>网站进入后会自动跳转到路由</p>\n<pre><code>dashboard</code></pre>\n<p>中,<br>Dashbord的结构如下<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mHD?w=1263&h=461\"></span><br>路由代码：</p>\n<pre><code>export default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: {\n        name: 'Dashboard'\n      }\n    },\n    {\n      path: '/dashboard',\n      name: 'Dashboard',\n      component: Dashboard\n    },\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login\n    },\n    {\n      path: '/article/:id',\n      name: 'Article',\n      component: Article,\n      children:[\n        {\n          path: 'index',\n          name: 'ArticleIndex',\n          component: Article,\n        }\n      ]\n    }\n  ]\n})</code></pre>\n<p>现在我的想法是，</p>\n<p>在左右文章栏中点击管理文章和添加文章后，会在Dashboard中红框的地方显示Article组件<br>但现在的问题是会直接打开新的页面，直接显示Article组件的内容。<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mIp?w=580&h=419\"></span></p>\n<p>这是为什么呀？</p>","answer":["<p>你那个侧边栏应该是放在一级路由下面,也就是将article作为dashboard子路由应该就可以实现你的需求</p>"]},{"title":"CentOS7 pm2 部署node错误提示pm2: command not found","tags":["linux","pm2","node.js"],"content":"<p>pm2都是全局安装</p>\n<p>pm2 deploy ecosystem.json production setup 这一步ok;</p>\n<p>pm2 deploy ecosystem.json production<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mcw?w=994&h=343\"></span></p>\n<p>服务器家目录<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mez?w=932&h=47\"></span><br>部署成功的目录<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mfA?w=526&h=35\"></span></p>\n<p>.bashrc <br><span class=\"img-wrap\"><img data-src=\"/img/bV4mgY?w=797&h=266\"></span></p>\n<p>goole没搜到解决办法，求大神指教</p>","answer":["<pre><code>whereis pm2\npm2: /opt/nodejs/bin/pm2\n\nsudo ln -s /opt/nodejs/bin/pm2 /usr/bin/pm2</code></pre>\n<p>两行命令解决。整了一下午</p>","<p>这种问题都是环境变量的问题，按理说默认安装的 pm2都是跟 node 在同一级目录下的，你直接在命令行里执行 node，可以成功么？</p>"]},{"title":"https证书的问题","tags":["https","证书"],"content":"<p>各位大虾好！小虾我遇到一个很奇怪的问题。</p>\n<p>公司有一个网站，这个网站显示证书是完全OK的，在页面上也是这样确认的。如图：</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mdO?w=689&h=608\"></span></p>\n<p>但是在<a href=\"https://cryptoreport.websecurity.symantec.com/checker/\">https://cryptoreport.websecur...</a> 的检测里，却发现是“未成功安装”，如图：</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mey?w=978&h=973\"></span></p>\n<p>另外一个网站在赛门铁克的验证却过关了</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4nbM?w=962&h=830\"></span></p>\n<p>这个网站的证书是使用阿里云负载均衡导入的，请问为什么会出现这样的情况？</p>","answer":["<p>尝试使用curl命令访问<code>curl -vv  https://www.lechange.com</code>,输出如下：<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mGU?w=1702&h=766\"></span></p>\n<p>貌似你在配置证书的时候仅配置了当前网站证书，未配置签发者根证书；导致在验证的时候因为验证工具（你的证书并不是由Symantec签发，因此它未存储）没找到这个根证书验证失败。</p>\n<p>为什么浏览器访问没问题，以chrome为例，他信任了<code>[所在平台的信任证书列表][1]</code>，而这些平台集成了一系列信任的根证书，如<a href=\"https://support.apple.com/zh-cn/HT208125\">iOS 11 中可用的受信任根证书列表</a>可以找到你的根证书“04 00 00 00 00 01 15 4B 5A C3 94 ”(序列号)，因此验证过程中没有问题，而对于其他的工具，如果未使用这些平台根证书信任列表依然需要完整的证书链（这个证书链在ssl握手过程中被下发）进行校验。</p>"]},{"title":"import无法在CentOS中编译？","tags":["node.js","babel","centos"],"content":"<p>我把项目传到腾讯云之后无法启动，错误原因是因为<code>app.js</code>中使用了<code>import</code></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lH5?w=1640&h=518\"></span></p>\n<p>这是<code>package.json</code>中的<code>script</code></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lJF?w=1790&h=270\"></span></p>\n<p>本地开发我用的<code>npm run dev</code>，服务器上我尝试了<code>prod-test</code>和<code>prod</code>都会报错，用<code>pm2</code>也不行（应该和<code>forever</code>或<code>pm2</code>无关）。</p>\n<p><code>server-wrapper.js</code>的内容只是加了一个Register Hook，参考的<a href=\"https://stackoverflow.com/questions/30862532/forever-errors-with-babel-node\">stackoverflow</a>上的帖子</p>\n<p>我在服务器上也尝试了<code>npm run dev</code>，但是在安装<code>babel-cli</code>的时候报警告（不过应该没关系）</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lMd?w=1200&h=72\"></span></p>\n<p>项目更详细的代码在<a href=\"https://github.com/HenryYong/poppy-server/tree/dev\">这里</a></p>\n<p>-----------update-------------<br>是不是babel-node有问题？</p>\n<p>服务器上：<br><span class=\"img-wrap\"><img data-src=\"/img/bV4nvH?w=884&h=244\"></span></p>\n<p>本地：<br><span class=\"img-wrap\"><img data-src=\"/img/bV4nvJ?w=264&h=164\"></span></p>\n<p>--------------update-------------<br>又发现一个问题是，如果在本地用<code>babel-register</code>，跑起来会报<code>ReferenceError: regeneratorRuntime is not defined</code>。如果在服务器上用，就直接报<code>SyntaxError: Unexpected token import</code></p>","answer":["<p>1.首先，你可以直接在服务器上用babel-node启动app.js试试看。如果能起来说明是forever的问题<br>2.如果不能起来，是不是你的babel-node的版本不对</p>","<p><code>node</code>目前不支持<code>import</code>写法。</p>\n<p>所以要么改成<code>require</code>，要么使用<code>babel-register</code></p>"]},{"title":"JS中函数定义在非严格模式，在严格模式下调用该函数，this指向谁？","tags":["javascript"],"content":"<pre><code>function foo() {\n    console.log( this.a );\n}\nvar a = 2;\n(function(){\n    \"use strict\";\n    foo(); // 2\n})();</code></pre>\n<p>如上代码所示，函数foo定义在非严格模式下，在严格模式下调用该函数，this指向的是全局。为什么呢？</p>\n<p>书上写到严格模式下，this禁止指向全局对象。并且还有“严格模式下与foo()的调用位置无关”。 这句话如何理解呢？</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lqp?w=967&h=430\"></span></p>","answer":["<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m5x?w=1157&h=957\"></span></p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this\">https://developer.mozilla.org...</a></p>"]},{"title":"Mysql数据表添加排名字段并赋值","tags":["php","mysql"],"content":"<p>1.描述问题：我的数据表中具有一个学生的相关信息，此处能用到的有成绩（cj），专业系(xm)， 我想增加一个字段系排名（xpm） 根据系的不同排出每个系的排名情况(例如：我有三个系 每个系都具有1，2，3....排名)，请问我应该如何使用mysql语句进行插入<br>我的表结构如下<span class=\"img-wrap\"><img data-src=\"/img/bV4l3Y?w=263&h=346\"></span></p>","answer":["<p>试试这个思路</p>\n<pre><code>SELECT t1.S# as 学生ID,t1.C# as 课程ID,Score as 分数\n      FROM SC t1\n      WHERE score IN (SELECT TOP 3 score\n              FROM SC\n              WHERE t1.C#= C#\n            ORDER BY score DESC\n              )\n      ORDER BY t1.C#;</code></pre>\n<p>查询各科成绩前三名的记录:(不考虑成绩并列情况)</p>","<p>1.你的表里面已经有有xpm字段了.就不用增加字段了吧.</p>\n<pre><code>添加字段 alter table totaltable add xpm int</code></pre>\n<p>2.现在你表中的xpm是没有数据的.你想把数据填充进来.</p>\n<pre><code>如果学生不多,你可以手动添加.(利用软件)\n数量足够多,那么你就把数据整理好.生产sql.重新添加</code></pre>"]},{"title":"TP5 报错Db类找不到","tags":["thinkphp","php"],"content":"<p>TP5 找不到Db类,不知道为何.<br>这是AdminUser类</p>\n<pre><code><?php\nnamespace app\\admin\\model;\n\nuse Think\\Db;\n\nclass AdminUser extends \\app\\common\\base\\ModelBase\n{\n    public $_table = '';\n    public function __construct()\n    {\n        parent::__construct();\n        $this->table = Db::table('admin_user');\n        //$this->_table = 'admin_user';\n\n    }\n}</code></pre>\n<p>这是ModelBase类</p>\n<pre><code><?php\nnamespace app\\common\\base;\n\nuse Think\\Db;\n\nclass ModelBase\n{\n    public $_error = array();\n\n    public function __construct()\n    {\n\n    }\n\n\n\n    /**\n     * 得到表数据\n     *\n     * @param int   $w    1:计数;  2:数据  3:计数&数据  4:一条数据\n     * @param array $sql  array('sql_ct'=>'计数语句', 'sql'=>'数据语句')\n     *\n     * @return mixed\n     */\n    public function getData($w=0, $sql=array())\n    {\n        //只得到计数\n        if($w === 1)\n        {\n            $ct = Db::query($sql['sql_ct']);\n            return empty($ct) ? 0 : intval($ct[0]['tot']);\n        }\n\n        //只得到数据\n        if($w === 2)\n        {\n            return Db::query($sql['sql']);\n        }\n\n        return array();\n    }\n}</code></pre>\n<p>下面是提示报错<span class=\"img-wrap\"><img data-src=\"/img/bV4lFn?w=1308&h=776\"></span></p>\n<p>求大神指点!</p>","answer":["<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mrY?w=915&h=290\"></span></p>\n<p>你这是重新定义基类 新的基类应该先继承 Model</p>","<p>我不知道你是否想按照tp5的 mvc 去写还是不用mvc，如果你的 ModelBase 是m 那你继承 Model 类，AdminUser 如果是控制器那你就不能继承 ModelBase ，当然如果你的都是m 的话也可以继承的 但在你继承 Model 类的时候要加入use thinkModel;</p>"]},{"title":"Xdebug如何调试laravel的queue？","tags":["php","laravel","xdebug"],"content":"<h4>Xdebug如何调试laravel的queue？</h4>\n<p>因为queue是在CLI下使用<code>php artisan queue:work</code>监听运行的，这个时候如何使用Xdebug去调试queue呢？</p>\n<h4>使用的IDE</h4>\n<p>vscode</p>\n<h4>环境</h4>\n<p>Docker + PHP7.1</p>","answer":["<p>简单点：<strong>打印日志</strong></p>","<p>.env里面的配置QUEUE_DRIVER就是指定所使用的driver,如果你用的rabbitmq，则QUEUE_DRIVER=rabbitmq，本地调试时，可以改成QUEUE_DRIVER=sync,这表示同步处理，而不是异步使用rabbitmq处理，这样就可以直接使用xdebug断点调试了。</p>"]},{"title":"屏幕自适应的问题","tags":["javascript","html","css"],"content":"<p>请问怎么给页面的设置自适应的宽和高啊。要根据不同大小的屏幕固定页面的可视区域的宽和高。<br>我用$(document).ready(function(){</p>\n<pre><code>$(\"body\").css({\"height\":document.documentElement.clientHeight+\"px\",\"height\":document.documentElement.clientWidth+\"px\"})\n}\n</code></pre>\n<p>会报错</p>","answer":["<p>报什么错，你这都是设置了height,没有设置width</p>","<p>结尾的)是没有复制上么？我这边不会报错</p>"]},{"title":"问一个关于微信公众号的问题。","tags":["php"],"content":"<p>目前在做微信公众号开发，是不是MP_verify_BlunKrd6QqMDna7R这个文件放哪里他就回调哪里啊，我用laravel做的，他不给我回调到指定的路由下面，而是老跳index.php？？？    来个大神告知一下。</p>","answer":["<p>把那个文件MP_verify_BlunKrd6QqMDna7R放到public目录下试下。</p>","<p>验证文件可以放到public下或者直接添加一个路由返回验证文件内容</p>\n<pre><code>Route::get('MP_verify_a8iiItIuy1wzx6Uu.txt', function() {\n    return 'a8iiItIuy1wzx6Uu';\n});</code></pre>\n<p>这个文件只是做验证使用和回调没关系 (不给回调到指定路由也许你需要隐藏index.php)<br>laravel单入口都是从index.php进入没毛病</p>"]},{"title":"vue中多个item状态判断","tags":["vue.js"],"content":"<p>有一个列表，数据从接口获取，使用item组件渲染，每个item默认状态为true，但是操作后可能为false，也可能再变回true，这个状态不是接口返回，而是前端判断的。</p>\n<p>右边有一个按钮，根据列表的所有item的状态判断是否禁用，即列表只要有一个item状态为false，就禁用按钮。</p>\n<p>现在我的做法是另外生成一个和列表长度一样的数组，默认全为true，item操作后不管为true或false，都根据对应的index设置数组对应的值，右侧按钮根据computed或watch监听数组的变化判断全为true或有false来进行相应的禁用或启用。</p>\n<p>但是感觉这个办法有点麻烦也太简单粗暴了，暂时没想到其他办法，不知道有没有更好的办法？</p>","answer":["<p>item里面既然有状态 可以使用这个状态判断啊</p>","<p><a href=\"https://jsfiddle.net/v1un4r4s/24/\">https://jsfiddle.net/v1un4r4s...</a></p>\n<p>我有理解错题意吗？</p>"]},{"title":"Js中的数据结构真的具有高性能吗？","tags":["数据结构和算法","javascript"],"content":"<p>比如说数组，我们知道</p>\n<pre><code>Array.prototype.__proto__ === Object.prototype//true\n\nvar arr = new Array()\narr instanceof Object//true</code></pre>\n<p>这么说我们对<br>数组的操作本质上来说就是对对象的操作，只不过Js恰好提供了一些像数组的方法。<br>我们给Js中数组、集合添加或减少元素，就是给对象增加或减少属性。<br>这样，Js中还具有一般意义上的【在数组尾部增删元素代价低，在头部增删元素代价高】的性质吗？</p>\n<p>(非科班出生，只是简单的学习过C语言，感觉Js中的数据结构和C中的很不一样，对Js中的数据结构很迷茫)</p>","answer":["<p>js中的数组只是高阶对象，或者说，除了那几个原始数据类型外，都是对象。<br>数组关键的在于排序，如果在最后插入数据，那么对数组而言不需要知道长度；而如果插在首位，那么可以看成是原有的数组元素都向后移动一位。</p>","<p>“数组的操作本质上来说就是对对象的操作”这句话不够严谨啊。</p>\n<p>数组在js中虽然是以对象的形式存在，但是和一般的对象Object是不一样的，就比如数组对象会有一个length，一般的Object是没有这个属性的。</p>\n<p>所以js中的数组在内存中的状态应该和C语言中链表的形式差不多。</p>\n<p>或者说Array实际上是以数组结构为核心的对象，提供的方法帮助你直接去操作了数组的数据结构</p>\n<p>“我们给Js中数组、集合添加或减少元素，就是给对象增加或减少属性。”怎么可能是增加减少属性呢，就跟C语言一样也会去开辟空间，持有指针差不多啊。</p>"]},{"title":"在火狐浏览器中怎么去掉input type=\"number\"的箭头","tags":["前端","web","兼容","火狐","html5"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lQQ?w=134&h=51\"></span></p>\n<p>如上图所示，在谷歌浏览器或者其他webkit内核的浏览器中这句可以去掉上下箭头：<br><code>-webkit-appearance: none !important;</code></p>\n<p>但是在火狐中不行，如果非要用<code>input type=\"number\"</code>，不能用<code>type=\"rel\"</code>的话，还有没有办法能让火狐浏览器不显示箭头？</p>","answer":["<p>input::-webkit-outer-spin-button, input::-webkit-inner-spin-button {</p>\n<pre><code>    -webkit-appearance: none !important;\n}\n\ninput[type=\"number\"] {\n    -moz-appearance: textfield;\n}</code></pre>"]},{"title":"关于前端行业的技术提升","tags":["css","html","node.js","html5","javascript"],"content":"<p>本人15年毕业，从事前端已有整3年，可是至今都很迷茫不知道怎么提升自身的技术<br>查看了很多技术帖子，都没办法找到一个明确的方向<br>可能是因为前端的技术更新迭代太快，对于到底是从哪方面入手来提升自己的技能真的很迷茫</p>","answer":["<p>首先是根据实际业务需求去学习，如果所学技术并不被用到，即便别人吹的再厉害，你也只需要保持围观即可。</p>\n<p>然后要有一定的技术前瞻性心态，时刻关注前端社区新动向，当你有新技术需求时，再对症下药去学习。</p>\n<p>题外话：其实不单单是前端技术迭代块，近几年整个码农的世界都在快速迭代，只有时刻掌握新动态并针对性学习，才能确保自己不被机器控制。</p>","<p>要知道 做这一行 学新技术不只是为了功利，那样你总会疲惫走不远。<br>什么时候你能因为兴趣去阅读源码，从模仿到造轮子，什么时候你能对不止前端的东西感兴趣，比如玩玩单片机，自己学着搭建集群，测试并发，研究研究数据库优化，用python写个web服务器等等，你就不会有现在的烦恼了。<br>当然，玩，每一项得玩精了。</p>"]},{"title":"请教css 文字行高对边距的影响问题","tags":["html5","css","html"],"content":"<p>初识移动端布局 不太了解 比如下面这张图 现行文字它标的间距是24px 但是我不能直接使用它这个24px去计算rem吧 因为下面的15.00有64px大小 很大的文字 本身有一定行高 我要怎样计算才能准确还原设计稿呢<br><span class=\"img-wrap\"><img data-src=\"/img/bV4lkR?w=455&h=152\"></span></p>","answer":["<p>把下面的15.00的行高重置成1应该就可以了吧？</p>","<p>你们用的psd文件还是sketch，这种距离一般每行设计都会给一个行高</p>"]},{"title":"为什么单链表环第一次快慢指针相遇后快指针指回头节点，之后快慢止指针移动一步会在第一个入环点相遇？","tags":["算法-数据结构","数据结构和算法","数据结构"],"content":"<p>为什么单链表环第一次快慢指针相遇后快指针指回头节点，之后快慢止指针移动一步会在第一个入环点相遇？</p>","answer":["<p>这个还是比较好理解的。<br>画了张简陋的图。代表链表中存在环的情况（B为环的起点处）。默认慢指针步长为1，快指针步长为2。</p>\n<pre><code>                ...\n               .   .\n              .     .\n               .   C\n                . .\nA................B\n</code></pre>\n<p>慢指针到达环的时候，快指针已经先一步到达环了。所以假设快慢指针在环上某点C处相遇。<br>由图得，2AC = AC + CC（整个环的周长），即AC = CC。AC和CC中有一个公共段BC。可以得到AB = CB(较长的弧）<br>因为相遇点在C（快慢指针都在C处），这时候让两个指针分别从点C和点A均以步长为1的速度遍历。自然在点B处相遇（第一个入环点）。</p>\n<p>如有不对请指正。</p>"]},{"title":"页面横向滚动的视差效果是如何实现的？","tags":["css","html","javascript"],"content":"<p>效果：<a href=\"https://www.pixxelfactory.net/jInvertScroll/\">jInvertScroll</a></p>","answer":["<p>这个应该是速度不同，好比你滚动了10，元素a移动10，元素b移动7，这样就会有视察效果</p>","<p><span class=\"img-wrap\"><img data-src=\"/img/bV4lXL?w=621&h=210\"></span></p>\n<p>其实算法挺简单的就是加减法，一个超长DIV用滚动条控制偏移，你看下示例中的Dom结构。</p>"]},{"title":"vue项目中的xx.html文件引入的图片路径该怎么处理？","tags":["html5","javascript"],"content":"<p>在vue项目中，大图使用require引入xx.vue文件中，但是里面有个xx.html文件，图片src属性值是相对路径,然后打包出来图片就显示不了</p>","answer":["<p>可以先 import img from './图片路径.jpg';<br>然后做数据绑定<br>data(){</p>\n<pre><code>    return{\n         imgUrl: img\n    }</code></pre>\n<p>}</p>\n<p>template中引用<br><img :src=\"imgUrl\"></p>\n<p>在webpack 要引入img-loader；如果你是vue-cli搭建的，就可以忽略这一条</p>","<p>vue项目根目录下有个static文件夹，静态图片和json等都在这个目录下相对引用，打包之后这个文件夹下的内容会打到发布项目的static，两个路径一致，就可以直接显示了</p>"]},{"title":"如何通过Api唤起小程序分享","tags":["小程序"],"content":"<p>Readhub小程序里面的分享功能如何实现</p>\n<p>进入Readhub小程序-随便点击一个新闻进入新闻详情页-点击右下角分享按钮-分享给朋友，此时程序能直接唤起分享功能。</p>\n<p>但是小程序没有支持通过api唤起分享，只支持通过button和系统按钮唤起分享。请问如何实现：）</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m4v?w=1080&h=1918\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m4y?w=1080&h=1918\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4m4A?w=1080&h=1918\"></span></p>","answer":["<p>人家是自己写的组件啊。思维不要定死了。</p>"]},{"title":"layui后台布局，左侧选项卡的超链接如何对应到右侧？","tags":["html","css","javascript"],"content":"<pre><code><!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n  <title>layout 后台大布局 - Layui</title>\n  <link rel=\"stylesheet\" href=\"../src/css/layui.css\">\n</head>\n<body class=\"layui-layout-body\">\n<div class=\"layui-layout layui-layout-admin\">\n  <div class=\"layui-header\">\n    <div class=\"layui-logo\">layui 后台布局</div>\n    <!-- 头部区域（可配合layui已有的水平导航） -->\n    <ul class=\"layui-nav layui-layout-left\">\n      <li class=\"layui-nav-item\"><a href=\"\">控制台</a></li>\n      <li class=\"layui-nav-item\"><a href=\"\">商品管理</a></li>\n      <li class=\"layui-nav-item\"><a href=\"\">用户</a></li>\n      <li class=\"layui-nav-item\">\n        <a href=\"javascript:;\">其它系统</a>\n        <dl class=\"layui-nav-child\">\n          <dd><a href=\"\">邮件管理</a></dd>\n          <dd><a href=\"\">消息管理</a></dd>\n          <dd><a href=\"\">授权管理</a></dd>\n        </dl>\n      </li>\n    </ul>\n    <ul class=\"layui-nav layui-layout-right\">\n      <li class=\"layui-nav-item\">\n        <a href=\"javascript:;\">\n          <img src=\"http://t.cn/RCzsdCq\" class=\"layui-nav-img\">\n          贤心\n        </a>\n        <dl class=\"layui-nav-child\">\n          <dd><a href=\"\">基本资料</a></dd>\n          <dd><a href=\"\">安全设置</a></dd>\n        </dl>\n      </li>\n      <li class=\"layui-nav-item\"><a href=\"\">退了</a></li>\n    </ul>\n  </div>\n  \n  <div class=\"layui-side layui-bg-black\">\n    <div class=\"layui-side-scroll\">\n      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->\n      <ul class=\"layui-nav layui-nav-tree\"  lay-filter=\"test\">\n        <li class=\"layui-nav-item layui-nav-itemed\">\n          <a class=\"\" href=\"javascript:;\">所有商品</a>\n          <dl class=\"layui-nav-child\">\n            <dd><a href=\"javascript:;\">列表一</a></dd>\n            <dd><a href=\"javascript:;\">列表二</a></dd>\n            <dd><a href=\"javascript:;\">列表三</a></dd>\n            <dd><a href=\"\">超链接</a></dd>\n          </dl>\n        </li>\n        <li class=\"layui-nav-item\">\n          <a href=\"javascript:;\">解决方案</a>\n          <dl class=\"layui-nav-child\">\n            <dd><a href=\"javascript:;\">列表一</a></dd>\n            <dd><a href=\"javascript:;\">列表二</a></dd>\n            <dd><a href=\"\">超链接</a></dd>\n          </dl>\n        </li>\n        <li class=\"layui-nav-item\"><a href=\"\">云市场</a></li>\n        <li class=\"layui-nav-item\"><a href=\"\">发布商品</a></li>\n      </ul>\n    </div>\n  </div>\n  \n  <div class=\"layui-body\">\n    <!-- 内容主体区域 -->\n    <div style=\"padding: 15px;\">内容主体区域</div>\n  </div>\n  \n  <div class=\"layui-footer\">\n    <!-- 底部固定区域 -->\n    © layui.com - 底部固定区域\n  </div>\n</div>\n<script src=\"../src/layui.js\"></script>\n<script>\n//JavaScript代码区域\nlayui.use('element', function(){\n  var element = layui.element;\n  \n});\n</script>\n</body>\n</html></code></pre>\n<p>例如“列表一”的超链接如何对应到右侧空白区域，而不是整页的变化</p>","answer":["<p>参见vue-router的route-link和route-view</p>\n<p>不是整页的变化就只能是页面的局部异步刷新，这简直就是SPA的思想</p>\n<p>然而你可以换个思路，即使是整页的变化，变更前后左边都保持相对的状态，也就可以看做是只替换了右边的内容</p>","<p>最简单的方法是声明2个变量，分别存储链接对象，接下来的操作就简单啦，另外我记得Lay文档有说明的，你注意看下官网给出的文档，我之前也用layui写过类似功能。</p>"]},{"title":"关于使用css设置文本超出部分用省略号表示的问题","tags":["css"],"content":"<p>有个常见需求，一段很长的商品标题要求显示两行，剩下用省略号代替。</p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mSf?w=448&h=309\"></span></p>\n<p>相关CSS代码：<br>overflow:hidden;<br>text-overflow:ellipsis;<br>-webkit-line-clamp:2;<br>display:-webkit-box;<br>-webkit-box-orient:vertical;</p>\n<hr>\n<p><strong>如果标题是个A标签，则在部分浏览器中，省略号就不在结尾了（在中间） 如：安卓版UC</strong></p>\n<hr>\n<p>例：（运行结果是省略号在第二行文字中间）：<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mTs?w=640&h=262\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mVF?w=433&h=293\"></span></p>","answer":["<p>没试过UC，但是有一点你要知道，<code>-webkit-line-clamp:2</code>;不是css标准属性，目前仅仅是webkit内核支持，很爽的属性，但是慎用。</p>"]},{"title":"想用es6方式将这两端代码简化下，请问如何实现？","tags":["es6","react.js","javascript"],"content":"<h2>问题一</h2>\n<p>多个if怎么简化</p>\n<pre><code>if(params.data.value[2] == 0){ //\n            return 'rgba(255, 255, 255, 1)'; // 白色\n        } else if(params.data.value[2] == 1){ //\n            return 'rgba(255, 100, 29, 1)'; // 红色\n        } else if (params.data.value[2] == 2) {\n            return 'rgba(255, 202, 0, 1)'; // 黄色\n        } else if (params.data.value[2] == 3) {\n            return 'rgba(139, 245, 77, 1)'; // 绿色\n        } else if (params.data.value[2] == 4) {\n            return 'rgba(139, 245, 77, 0)'; // 绿色\n        }\n        return 'rgba(255, 255, 255, 0)';</code></pre>\n<h1>问题二</h1>\n<p>我想做一个倒计时的工具，按秒走，下面这段代码就是实现这个功能的，</p>\n<p>我想优化一下，减少代码的重复量</p>\n<p>这段时间刷新怎么读取</p>\n<pre><code>componentDidMount() {\n\n        const _self = this; // 指向本对象的指针\n\n        var myDate = new Date();\n        document.getElementsByClassName('year')[0].innerHTML = myDate.getFullYear();\n\n        var month = myDate.getMonth()+1;\n        month =(month<10 ? \"0\"+month:month);\n\n        document.getElementsByClassName('month')[0].innerHTML = month; // 月份自动加0\n\n        var day = myDate.getDate();\n        day =(day<10 ? \"0\"+day:day);\n\n        document.getElementsByClassName('day')[0].innerHTML = day; // 日子自动加0;\n\n        var hour = myDate.getHours();\n        hour =(hour<10 ? \"0\"+hour:hour);\n\n        document.getElementsByClassName('hour')[0].innerHTML = hour; // 小时自动加0\n\n        var minute = myDate.getMinutes();\n        minute =(minute<10 ? \"0\"+minute:minute);\n\n        document.getElementsByClassName('minute')[0].innerHTML = minute; //获取当前分钟数(0-59)\n\n        _self.showTimer = setInterval(()=> this.treat(), 1000*3); // 1分钟换一次数据\n    }</code></pre>","answer":["<p>问题一：</p>\n<pre><code>const colorMap = [\n  'rgba(255, 255, 255, 1)',\n  'rgba(255, 100, 29, 1)',\n  'rgba(255, 202, 0, 1)',\n  'rgba(139, 245, 77, 1)',\n  'rgba(139, 245, 77, 0)',\n]\nreturn colorMap[params.data.value[2]] || 'rgba(255, 255, 255, 0)'</code></pre>\n<p>问题二： 没看懂？什么怎刷新？ 你要做的是一个倒计时的效果吗</p>"]},{"title":"运行webpack命令一直提示安装webpack-cli","tags":["react.js"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mNr?w=525&h=87\"></span></p>\n<p>按着提示运行npm install webpack-cli -D命令之后，package.json显示已有webpack-cli，然后再运行webpack命令又出现以上提示。</p>","answer":["<p>如果要拿着个命令 需要在全局也装一个。</p>\n<p>不然就补全路径  ./node_modules/webpack    </p>\n<p>没记错的话是这样，总之就是补全路径了，因为你-D安装的是在当前项目的node_modules下面。你要告诉他去哪里找这个命令</p>\n<p>不然他就去全局找了。然而全局找不到，那就报错</p>"]},{"title":"你们都是怎么实现ant-design 的tree组件节点的动态增删同时不影响其他节点的展开收缩状态？（技术栈：react）","tags":["tree","antdesign","react.js"],"content":"<p>目前我是每次增删之后重新查tree的数据，但是这样会造成其他打开的节点收缩起来（重新render了），不能满足目前的需求，请大神帮忙看下，谢谢啦！！！</p>","answer":["<p>用<code>expandRowKeys</code>属性记住展开状态</p>"]},{"title":"composer安装扩展包遇到问题","tags":["composer","yii2","php"],"content":"<p>今天的项目想做一个颜色选择器，但是安装扩展包的时候遇到了如下图的问题。<br><span class=\"img-wrap\"><img data-src=\"/img/bV4mYn?w=620&h=191\"></span></p>\n<p>想请教下大神，这是什么问题。谢谢</p>","answer":["<p>composr.json 设置成：</p>\n<pre><code> \"minimum-stability\": \"dev\"</code></pre>"]},{"title":"动画抖动和延迟执行","tags":["css","javascript"],"content":"<p><a href=\"http://www.edusoho.com/\">http://www.edusoho.com/</a></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mVZ?w=2506&h=1016\"></span><br><span class=\"img-wrap\"><img data-src=\"/img/bV4mWL?w=2464&h=576\"></span></p>\n<p>模仿这个动效，在鼠标快速切换的时候，会出现空隙的情况，图标还会发生抖动，想大神指导可能是什么原因</p>","answer":["<p>换用mouseenter/mouseleave 组合</p>"]},{"title":"将Mysql查询的结果更新到本表的某字段下","tags":["php","mysql"],"content":"<p>我使用下面的代码查询出了一张表结构如下</p>\n<pre><code>SELECT xh,xm,bj,jd,rank FROM\n    (SELECT *,@rownum:=@rownum+1 AS rownum,IF(@pa=ff.bj,@rank:=@rank+1,@rank:=1) AS rank,@pa:=ff.bj\n    FROM\n       (SELECT xh,xm,jd,bj FROM totaltable GROUP BY bj,jd ORDER BY bj ASC, jd DESC) ff,(SELECT @rank:=0,@rownum:=0,@pa=NULL) tt) result</code></pre>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mLL?w=490&h=407\"></span></p>\n<p>我想将rank 字段更新到totaltable表的对应的学号（xh）的某字段(bpm)下默认为空 应该如何写sql语句</p>","answer":["<pre><code>update totaltable\n    join (SELECT xh,xm,bj,jd,rank FROM (SELECT *,@rownum:=@rownum+1 AS rownum,IF(@pa=ff.bj,@rank:=@rank+1,@rank:=1) AS rank,@pa:=ff.bj\n        FROM\n           (SELECT xh,xm,jd,bj FROM totaltable GROUP BY bj,jd ORDER BY bj ASC, jd DESC) ff,(SELECT @rank:=0,@rownum:=0,@pa=NULL) tt) result) tmp on totaltable.xh = tmp.xh\nset totaltable.bpm = tmp.rank</code></pre>\n<p>你试试这个呢，update语句去join你『select结果』临时表，希望能帮到你。</p>"]},{"title":"自己在服务器上，scp如何把服务器文件传到本地？","tags":["linux"],"content":"<p>自己在服务器上，如何传送一个文件到本地？<br>网上查到的教程都是从服务器到服务器，和自己在本地和服务器双向传输，那么如果自己已经登录到服务器上，怎么传文件到本地呢？</p>","answer":["<blockquote>额。。。你还真是没看命令帮助。</blockquote>\n<pre><code>usage: scp [-346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]\n           [-l limit] [-o ssh_option] [-P port] [-S program]\n           [[user@]host1:]file1 ... [[user@]host2:]file2</code></pre>\n<p>看最后一行，也就是说，你使用scp将本地文件拷贝到远程服务端使用的命令是</p>\n<pre><code class=\"shell\">scp /pathname/filename user@host2:/pathname/filename</code></pre>\n<p>那你把远程服务器的文件拷贝到本地的就是</p>\n<pre><code class=\"shell\">scp user@host2:/pathname/filename /pathname/filename </code></pre>\n<p>和你拷贝到远程的顺序调换下就行。</p>"]},{"title":"微信公众号H5如何调起小程序","tags":["html5","java"],"content":"<p>在微信钱包-城市服务的H5页面中有可以直接调起“羊城通乘车码”的小程序，这个功能是怎么实现的?现在项目有这个需求，有哪位大神知道的吗</p>","answer":["<p>H5页面嵌套入口跳转到小程序，好像还没有开放这个接口，你说那个城市服务是腾讯微信本身服务</p>"]},{"title":"csshover与鼠标点击的冲突？","tags":["css"],"content":"<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mMa?w=639&h=420\"></span></p>\n<p><span class=\"img-wrap\"><img data-src=\"/img/bV4mMm?w=654&h=277\"></span><br><span class=\"img-wrap\"><img data-src=\"/img/\"></span></p>\n<p>css: .box:hover .boxxx{display:block}</p>\n<p>鼠标移入红盒后蓝盒子显示  红蓝盒子的层级定位如图  但是当我在显示出来的蓝盒子上点击的时候（红蓝上没有任何点击事件） 蓝盒子就会隐藏  但是我不想让在点击的时候隐藏 该怎样改</p>","answer":["<p>红蓝盒子如果没有重叠的话，你去尝试点击蓝盒子肯定先要移出红盒子，那么蓝盒子就会隐藏掉。</p>\n<p>你可以利用盒子模型让红盒子盖住蓝盒子</p>"]},{"title":"video自动播放的问题","tags":["javascript","html"],"content":"<p>我想把video视频放到全屏的banner上 自动播放<br>但是设置自动播放不播放 <br>这是为什么<br>只要不是全屏就可以自动播放</p>","answer":["<p>试试这个这样添加，然后css设置video的样式。</p>\n<pre><code class=\"html\"> <video autoplay>\n      <source src=\"https://www.w3schools.com/html/mov_bbb.mp4\" type=\"video/mp4\"> Your browser does not support the video tag.\n  </video></code></pre>"]}]